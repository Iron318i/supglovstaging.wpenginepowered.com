/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 */
jQuery('body').addClass('prdctfltr-shop')
jQuery('body').addClass('prdctfltr-ajax')

jQuery.easing.jswing = jQuery.easing.swing
jQuery.extend(jQuery.easing, {
  def: 'easeOutQuad',
  swing: function (e, a, c, b, d) {
    return jQuery.easing[jQuery.easing.def](e, a, c, b, d)
  },
  easeInQuad: function (e, a, c, b, d) {
    return b * (a /= d) * a + c
  },
  easeOutQuad: function (e, a, c, b, d) {
    return -b * (a /= d) * (a - 2) + c
  },
  easeInOutQuad: function (e, a, c, b, d) {
    return 1 > (a /= d / 2)
      ? (b / 2) * a * a + c
      : (-b / 2) * (--a * (a - 2) - 1) + c
  },
  easeInCubic: function (e, a, c, b, d) {
    return b * (a /= d) * a * a + c
  },
  easeOutCubic: function (e, a, c, b, d) {
    return b * ((a = a / d - 1) * a * a + 1) + c
  },
  easeInOutCubic: function (e, a, c, b, d) {
    return 1 > (a /= d / 2)
      ? (b / 2) * a * a * a + c
      : (b / 2) * ((a -= 2) * a * a + 2) + c
  },
  easeInQuart: function (e, a, c, b, d) {
    return b * (a /= d) * a * a * a + c
  },
  easeOutQuart: function (e, a, c, b, d) {
    return -b * ((a = a / d - 1) * a * a * a - 1) + c
  },
  easeInOutQuart: function (e, a, c, b, d) {
    return 1 > (a /= d / 2)
      ? (b / 2) * a * a * a * a + c
      : (-b / 2) * ((a -= 2) * a * a * a - 2) + c
  },
  easeInQuint: function (e, a, c, b, d) {
    return b * (a /= d) * a * a * a * a + c
  },
  easeOutQuint: function (e, a, c, b, d) {
    return b * ((a = a / d - 1) * a * a * a * a + 1) + c
  },
  easeInOutQuint: function (e, a, c, b, d) {
    return 1 > (a /= d / 2)
      ? (b / 2) * a * a * a * a * a + c
      : (b / 2) * ((a -= 2) * a * a * a * a + 2) + c
  },
  easeInSine: function (e, a, c, b, d) {
    return -b * Math.cos((a / d) * (Math.PI / 2)) + b + c
  },
  easeOutSine: function (e, a, c, b, d) {
    return b * Math.sin((a / d) * (Math.PI / 2)) + c
  },
  easeInOutSine: function (e, a, c, b, d) {
    return (-b / 2) * (Math.cos((Math.PI * a) / d) - 1) + c
  },
  easeInExpo: function (e, a, c, b, d) {
    return 0 == a ? c : b * Math.pow(2, 10 * (a / d - 1)) + c
  },
  easeOutExpo: function (e, a, c, b, d) {
    return a == d ? c + b : b * (-Math.pow(2, (-10 * a) / d) + 1) + c
  },
  easeInOutExpo: function (e, a, c, b, d) {
    return 0 == a
      ? c
      : a == d
      ? c + b
      : 1 > (a /= d / 2)
      ? (b / 2) * Math.pow(2, 10 * (a - 1)) + c
      : (b / 2) * (-Math.pow(2, -10 * --a) + 2) + c
  },
  easeInCirc: function (e, a, c, b, d) {
    return -b * (Math.sqrt(1 - (a /= d) * a) - 1) + c
  },
  easeOutCirc: function (e, a, c, b, d) {
    return b * Math.sqrt(1 - (a = a / d - 1) * a) + c
  },
  easeInOutCirc: function (e, a, c, b, d) {
    return 1 > (a /= d / 2)
      ? (-b / 2) * (Math.sqrt(1 - a * a) - 1) + c
      : (b / 2) * (Math.sqrt(1 - (a -= 2) * a) + 1) + c
  },
  easeInElastic: function (e, a, c, b, d) {
    e = 1.70158
    var f = 0,
      g = b
    if (0 == a) return c
    if (1 == (a /= d)) return c + b
    f || (f = 0.3 * d)
    g < Math.abs(b)
      ? ((g = b), (e = f / 4))
      : (e = (f / (2 * Math.PI)) * Math.asin(b / g))
    return (
      -(g * Math.pow(2, 10 * --a) * Math.sin((2 * (a * d - e) * Math.PI) / f)) +
      c
    )
  },
  easeOutElastic: function (e, a, c, b, d) {
    e = 1.70158
    var f = 0,
      g = b
    if (0 == a) return c
    if (1 == (a /= d)) return c + b
    f || (f = 0.3 * d)
    g < Math.abs(b)
      ? ((g = b), (e = f / 4))
      : (e = (f / (2 * Math.PI)) * Math.asin(b / g))
    return (
      g * Math.pow(2, -10 * a) * Math.sin((2 * (a * d - e) * Math.PI) / f) +
      b +
      c
    )
  },
  easeInOutElastic: function (e, a, c, b, d) {
    e = 1.70158
    var f = 0,
      g = b
    if (0 == a) return c
    if (2 == (a /= d / 2)) return c + b
    f || (f = 0.3 * d * 1.5)
    g < Math.abs(b)
      ? ((g = b), (e = f / 4))
      : (e = (f / (2 * Math.PI)) * Math.asin(b / g))
    return 1 > a
      ? -0.5 *
          g *
          Math.pow(2, 10 * --a) *
          Math.sin((2 * (a * d - e) * Math.PI) / f) +
          c
      : g *
          Math.pow(2, -10 * --a) *
          Math.sin((2 * (a * d - e) * Math.PI) / f) *
          0.5 +
          b +
          c
  },
  easeInBack: function (e, a, c, b, d, f) {
    void 0 == f && (f = 1.70158)
    return b * (a /= d) * a * ((f + 1) * a - f) + c
  },
  easeOutBack: function (e, a, c, b, d, f) {
    void 0 == f && (f = 1.70158)
    return b * ((a = a / d - 1) * a * ((f + 1) * a + f) + 1) + c
  },
  easeInOutBack: function (e, a, c, b, d, f) {
    void 0 == f && (f = 1.70158)
    return 1 > (a /= d / 2)
      ? (b / 2) * a * a * (((f *= 1.525) + 1) * a - f) + c
      : (b / 2) * ((a -= 2) * a * (((f *= 1.525) + 1) * a + f) + 2) + c
  },
  easeInBounce: function (e, a, c, b, d) {
    return b - jQuery.easing.easeOutBounce(e, d - a, 0, b, d) + c
  },
  easeOutBounce: function (e, a, c, b, d) {
    return (a /= d) < 1 / 2.75
      ? 7.5625 * b * a * a + c
      : a < 2 / 2.75
      ? b * (7.5625 * (a -= 1.5 / 2.75) * a + 0.75) + c
      : a < 2.5 / 2.75
      ? b * (7.5625 * (a -= 2.25 / 2.75) * a + 0.9375) + c
      : b * (7.5625 * (a -= 2.625 / 2.75) * a + 0.984375) + c
  },
  easeInOutBounce: function (e, a, c, b, d) {
    return a < d / 2
      ? 0.5 * jQuery.easing.easeInBounce(e, 2 * a, 0, b, d) + c
      : 0.5 * jQuery.easing.easeOutBounce(e, 2 * a - d, 0, b, d) + 0.5 * b + c
  },
})

/*
jQuery Waypoints - v2.0.2
Copyright (c) 2011-2013 Caleb Troughton
Dual licensed under the MIT license and GPL license.
https://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt
*/
;(function () {
  var t =
      [].indexOf ||
      function (t) {
        for (var e = 0, n = this.length; e < n; e++) {
          if (e in this && this[e] === t) return e
        }
        return -1
      },
    e = [].slice
  ;(function (t, e) {
    if (typeof define === 'function' && define.amd) {
      return define('waypoints', ['jquery'], function (n) {
        return e(n, t)
      })
    } else {
      return e(t.jQuery, t)
    }
  })(this, function (n, r) {
    var i, o, l, s, f, u, a, c, h, d, p, y, v, w, g, m
    i = n(r)
    c = t.call(r, 'ontouchstart') >= 0
    s = { horizontal: {}, vertical: {} }
    f = 1
    a = {}
    u = 'waypoints-context-id'
    p = 'resize.waypoints'
    y = 'scroll.waypoints'
    v = 1
    w = 'waypoints-waypoint-ids'
    g = 'waypoint'
    m = 'waypoints'
    o = (function () {
      function t(t) {
        var e = this
        this.$element = t
        this.element = t[0]
        this.didResize = false
        this.didScroll = false
        this.id = 'context' + f++
        this.oldScroll = { x: t.scrollLeft(), y: t.scrollTop() }
        this.waypoints = { horizontal: {}, vertical: {} }
        t.data(u, this.id)
        a[this.id] = this
        t.bind(y, function () {
          var t
          if (!(e.didScroll || c)) {
            e.didScroll = true
            t = function () {
              e.doScroll()
              return (e.didScroll = false)
            }
            return r.setTimeout(t, n[m].settings.scrollThrottle)
          }
        })
        t.bind(p, function () {
          var t
          if (!e.didResize) {
            e.didResize = true
            t = function () {
              n[m]('refresh')
              return (e.didResize = false)
            }
            return r.setTimeout(t, n[m].settings.resizeThrottle)
          }
        })
      }
      t.prototype.doScroll = function () {
        var t,
          e = this
        t = {
          horizontal: {
            newScroll: this.$element.scrollLeft(),
            oldScroll: this.oldScroll.x,
            forward: 'right',
            backward: 'left',
          },
          vertical: {
            newScroll: this.$element.scrollTop(),
            oldScroll: this.oldScroll.y,
            forward: 'down',
            backward: 'up',
          },
        }
        if (c && (!t.vertical.oldScroll || !t.vertical.newScroll)) {
          n[m]('refresh')
        }
        n.each(t, function (t, r) {
          var i, o, l
          l = []
          o = r.newScroll > r.oldScroll
          i = o ? r.forward : r.backward
          n.each(e.waypoints[t], function (t, e) {
            var n, i
            if (r.oldScroll < (n = e.offset) && n <= r.newScroll) {
              return l.push(e)
            } else if (r.newScroll < (i = e.offset) && i <= r.oldScroll) {
              return l.push(e)
            }
          })
          l.sort(function (t, e) {
            return t.offset - e.offset
          })
          if (!o) {
            l.reverse()
          }
          return n.each(l, function (t, e) {
            if (e.options.continuous || t === l.length - 1) {
              return e.trigger([i])
            }
          })
        })
        return (this.oldScroll = {
          x: t.horizontal.newScroll,
          y: t.vertical.newScroll,
        })
      }
      t.prototype.refresh = function () {
        var t,
          e,
          r,
          i = this
        r = n.isWindow(this.element)
        e = this.$element.offset()
        this.doScroll()
        t = {
          horizontal: {
            contextOffset: r ? 0 : e.left,
            contextScroll: r ? 0 : this.oldScroll.x,
            contextDimension: this.$element.width(),
            oldScroll: this.oldScroll.x,
            forward: 'right',
            backward: 'left',
            offsetProp: 'left',
          },
          vertical: {
            contextOffset: r ? 0 : e.top,
            contextScroll: r ? 0 : this.oldScroll.y,
            contextDimension: r
              ? n[m]('viewportHeight')
              : this.$element.height(),
            oldScroll: this.oldScroll.y,
            forward: 'down',
            backward: 'up',
            offsetProp: 'top',
          },
        }
        return n.each(t, function (t, e) {
          return n.each(i.waypoints[t], function (t, r) {
            var i, o, l, s, f
            i = r.options.offset
            l = r.offset
            o = n.isWindow(r.element) ? 0 : r.$element.offset()[e.offsetProp]
            if (n.isFunction(i)) {
              i = i.apply(r.element)
            } else if (typeof i === 'string') {
              i = parseFloat(i)
              if (r.options.offset.indexOf('%') > -1) {
                i = Math.ceil((e.contextDimension * i) / 100)
              }
            }
            r.offset = o - e.contextOffset + e.contextScroll - i
            if ((r.options.onlyOnScroll && l != null) || !r.enabled) {
              return
            }
            if (l !== null && l < (s = e.oldScroll) && s <= r.offset) {
              return r.trigger([e.backward])
            } else if (l !== null && l > (f = e.oldScroll) && f >= r.offset) {
              return r.trigger([e.forward])
            } else if (l === null && e.oldScroll >= r.offset) {
              return r.trigger([e.forward])
            }
          })
        })
      }
      t.prototype.checkEmpty = function () {
        if (
          n.isEmptyObject(this.waypoints.horizontal) &&
          n.isEmptyObject(this.waypoints.vertical)
        ) {
          this.$element.unbind([p, y].join(' '))
          return delete a[this.id]
        }
      }
      return t
    })()
    l = (function () {
      function t(t, e, r) {
        var i, o
        r = n.extend({}, n.fn[g].defaults, r)
        if (r.offset === 'bottom-in-view') {
          r.offset = function () {
            var t
            t = n[m]('viewportHeight')
            if (!n.isWindow(e.element)) {
              t = e.$element.height()
            }
            return t - n(this).outerHeight()
          }
        }
        this.$element = t
        this.element = t[0]
        this.axis = r.horizontal ? 'horizontal' : 'vertical'
        this.callback = r.handler
        this.context = e
        this.enabled = r.enabled
        this.id = 'waypoints' + v++
        this.offset = null
        this.options = r
        e.waypoints[this.axis][this.id] = this
        s[this.axis][this.id] = this
        i = (o = t.data(w)) != null ? o : []
        i.push(this.id)
        t.data(w, i)
      }
      t.prototype.trigger = function (t) {
        if (!this.enabled) {
          return
        }
        if (this.callback != null) {
          this.callback.apply(this.element, t)
        }
        if (this.options.triggerOnce) {
          return this.destroy()
        }
      }
      t.prototype.disable = function () {
        return (this.enabled = false)
      }
      t.prototype.enable = function () {
        this.context.refresh()
        return (this.enabled = true)
      }
      t.prototype.destroy = function () {
        delete s[this.axis][this.id]
        delete this.context.waypoints[this.axis][this.id]
        return this.context.checkEmpty()
      }
      t.getWaypointsByElement = function (t) {
        var e, r
        r = n(t).data(w)
        if (!r) {
          return []
        }
        e = n.extend({}, s.horizontal, s.vertical)
        return n.map(r, function (t) {
          return e[t]
        })
      }
      return t
    })()
    d = {
      init: function (t, e) {
        var r
        if (e == null) {
          e = {}
        }
        if ((r = e.handler) == null) {
          e.handler = t
        }
        this.each(function () {
          var t, r, i, s
          t = n(this)
          i = (s = e.context) != null ? s : n.fn[g].defaults.context
          if (!n.isWindow(i)) {
            i = t.closest(i)
          }
          i = n(i)
          r = a[i.data(u)]
          if (!r) {
            r = new o(i)
          }
          return new l(t, r, e)
        })
        n[m]('refresh')
        return this
      },
      disable: function () {
        return d._invoke(this, 'disable')
      },
      enable: function () {
        return d._invoke(this, 'enable')
      },
      destroy: function () {
        return d._invoke(this, 'destroy')
      },
      prev: function (t, e) {
        return d._traverse.call(this, t, e, function (t, e, n) {
          if (e > 0) {
            return t.push(n[e - 1])
          }
        })
      },
      next: function (t, e) {
        return d._traverse.call(this, t, e, function (t, e, n) {
          if (e < n.length - 1) {
            return t.push(n[e + 1])
          }
        })
      },
      _traverse: function (t, e, i) {
        var o, l
        if (t == null) {
          t = 'vertical'
        }
        if (e == null) {
          e = r
        }
        l = h.aggregate(e)
        o = []
        this.each(function () {
          var e
          e = n.inArray(this, l[t])
          return i(o, e, l[t])
        })
        return this.pushStack(o)
      },
      _invoke: function (t, e) {
        t.each(function () {
          var t
          t = l.getWaypointsByElement(this)
          return n.each(t, function (t, n) {
            n[e]()
            return true
          })
        })
        return this
      },
    }
    n.fn[g] = function () {
      var t, r
      ;(r = arguments[0]),
        (t = 2 <= arguments.length ? e.call(arguments, 1) : [])
      if (d[r]) {
        return d[r].apply(this, t)
      } else if (n.isFunction(r)) {
        return d.init.apply(this, arguments)
      } else if (n.isPlainObject(r)) {
        return d.init.apply(this, [null, r])
      } else if (!r) {
        return n.error(
          'jQuery Waypoints needs a callback function or handler option.'
        )
      } else {
        return n.error(
          'The ' + r + ' method does not exist in jQuery Waypoints.'
        )
      }
    }
    n.fn[g].defaults = {
      context: r,
      continuous: true,
      enabled: true,
      horizontal: false,
      offset: 0,
      triggerOnce: false,
    }
    h = {
      refresh: function () {
        return n.each(a, function (t, e) {
          return e.refresh()
        })
      },
      viewportHeight: function () {
        var t
        return (t = r.innerHeight) != null ? t : i.height()
      },
      aggregate: function (t) {
        var e, r, i
        e = s
        if (t) {
          e = (i = a[n(t).data(u)]) != null ? i.waypoints : void 0
        }
        if (!e) {
          return []
        }
        r = { horizontal: [], vertical: [] }
        n.each(r, function (t, i) {
          n.each(e[t], function (t, e) {
            return i.push(e)
          })
          i.sort(function (t, e) {
            return t.offset - e.offset
          })
          r[t] = n.map(i, function (t) {
            return t.element
          })
          return (r[t] = n.unique(r[t]))
        })
        return r
      },
      above: function (t) {
        if (t == null) {
          t = r
        }
        return h._filter(t, 'vertical', function (t, e) {
          return e.offset <= t.oldScroll.y
        })
      },
      below: function (t) {
        if (t == null) {
          t = r
        }
        return h._filter(t, 'vertical', function (t, e) {
          return e.offset > t.oldScroll.y
        })
      },
      left: function (t) {
        if (t == null) {
          t = r
        }
        return h._filter(t, 'horizontal', function (t, e) {
          return e.offset <= t.oldScroll.x
        })
      },
      right: function (t) {
        if (t == null) {
          t = r
        }
        return h._filter(t, 'horizontal', function (t, e) {
          return e.offset > t.oldScroll.x
        })
      },
      enable: function () {
        return h._invoke('enable')
      },
      disable: function () {
        return h._invoke('disable')
      },
      destroy: function () {
        return h._invoke('destroy')
      },
      extendFn: function (t, e) {
        return (d[t] = e)
      },
      _invoke: function (t) {
        var e
        e = n.extend({}, s.vertical, s.horizontal)
        return n.each(e, function (e, n) {
          n[t]()
          return true
        })
      },
      _filter: function (t, e, r) {
        var i, o
        i = a[n(t).data(u)]
        if (!i) {
          return []
        }
        o = []
        n.each(i.waypoints[e], function (t, e) {
          if (r(i, e)) {
            return o.push(e)
          }
        })
        o.sort(function (t, e) {
          return t.offset - e.offset
        })
        return n.map(o, function (t) {
          return t.element
        })
      },
    }
    n[m] = function () {
      var t, n
      ;(n = arguments[0]),
        (t = 2 <= arguments.length ? e.call(arguments, 1) : [])
      if (h[n]) {
        return h[n].apply(null, t)
      } else {
        return h.aggregate.call(null, n)
      }
    }
    n[m].settings = { resizeThrottle: 100, scrollThrottle: 30 }
    return i.load(function () {
      return n[m]('refresh')
    })
  })
}).call(this)

/*
 * jquery-match-height 0.7.2 by @liabru
 * http://brm.io/jquery-match-height/
 * License MIT
 */
!(function (t) {
  'use strict'
  'function' == typeof define && define.amd
    ? define(['jquery'], t)
    : 'undefined' != typeof module && module.exports
    ? (module.exports = t(require('jquery')))
    : t(jQuery)
})(function (t) {
  var e = -1,
    o = -1,
    n = function (t) {
      return parseFloat(t) || 0
    },
    a = function (e) {
      var o = 1,
        a = t(e),
        i = null,
        r = []
      return (
        a.each(function () {
          var e = t(this),
            a = e.offset().top - n(e.css('margin-top')),
            s = r.length > 0 ? r[r.length - 1] : null
          null === s
            ? r.push(e)
            : Math.floor(Math.abs(i - a)) <= o
            ? (r[r.length - 1] = s.add(e))
            : r.push(e),
            (i = a)
        }),
        r
      )
    },
    i = function (e) {
      var o = {
        byRow: !0,
        property: 'height',
        target: null,
        remove: !1,
      }
      return 'object' == typeof e
        ? t.extend(o, e)
        : ('boolean' == typeof e
            ? (o.byRow = e)
            : 'remove' === e && (o.remove = !0),
          o)
    },
    r = (t.fn.matchHeight = function (e) {
      var o = i(e)
      if (o.remove) {
        var n = this
        return (
          this.css(o.property, ''),
          t.each(r._groups, function (t, e) {
            e.elements = e.elements.not(n)
          }),
          this
        )
      }
      return this.length <= 1 && !o.target
        ? this
        : (r._groups.push({ elements: this, options: o }),
          r._apply(this, o),
          this)
    })
  ;(r.version = '0.7.2'),
    (r._groups = []),
    (r._throttle = 80),
    (r._maintainScroll = !1),
    (r._beforeUpdate = null),
    (r._afterUpdate = null),
    (r._rows = a),
    (r._parse = n),
    (r._parseOptions = i),
    (r._apply = function (e, o) {
      var s = i(o),
        h = t(e),
        l = [h],
        c = t(window).scrollTop(),
        p = t('html').outerHeight(!0),
        u = h.parents().filter(':hidden')
      return (
        u.each(function () {
          var e = t(this)
          e.data('style-cache', e.attr('style'))
        }),
        u.css('display', 'block'),
        s.byRow &&
          !s.target &&
          (h.each(function () {
            var e = t(this),
              o = e.css('display')
            'inline-block' !== o &&
              'flex' !== o &&
              'inline-flex' !== o &&
              (o = 'block'),
              e.data('style-cache', e.attr('style')),
              e.css({
                display: o,
                'padding-top': '0',
                'padding-bottom': '0',
                'margin-top': '0',
                'margin-bottom': '0',
                'border-top-width': '0',
                'border-bottom-width': '0',
                height: '100px',
                overflow: 'hidden',
              })
          }),
          (l = a(h)),
          h.each(function () {
            var e = t(this)
            e.attr('style', e.data('style-cache') || '')
          })),
        t.each(l, function (e, o) {
          var a = t(o),
            i = 0
          if (s.target) i = s.target.outerHeight(!1)
          else {
            if (s.byRow && a.length <= 1) return void a.css(s.property, '')
            a.each(function () {
              var e = t(this),
                o = e.attr('style'),
                n = e.css('display')
              'inline-block' !== n &&
                'flex' !== n &&
                'inline-flex' !== n &&
                (n = 'block')
              var a = {
                display: n,
              }
              ;(a[s.property] = ''),
                e.css(a),
                e.outerHeight(!1) > i && (i = e.outerHeight(!1)),
                o ? e.attr('style', o) : e.css('display', '')
            })
          }
          a.each(function () {
            var e = t(this),
              o = 0
            ;(s.target && e.is(s.target)) ||
              ('border-box' !== e.css('box-sizing') &&
                ((o +=
                  n(e.css('border-top-width')) +
                  n(e.css('border-bottom-width'))),
                (o += n(e.css('padding-top')) + n(e.css('padding-bottom')))),
              e.css(s.property, i - o + 'px'))
          })
        }),
        u.each(function () {
          var e = t(this)
          e.attr('style', e.data('style-cache') || null)
        }),
        r._maintainScroll &&
          t(window).scrollTop((c / p) * t('html').outerHeight(!0)),
        this
      )
    }),
    (r._applyDataApi = function () {
      var e = {}
      t('[data-match-height], [data-mh]').each(function () {
        var o = t(this),
          n = o.attr('data-mh') || o.attr('data-match-height')
        n in e ? (e[n] = e[n].add(o)) : (e[n] = o)
      }),
        t.each(e, function () {
          this.matchHeight(!0)
        })
    })
  var s = function (e) {
    r._beforeUpdate && r._beforeUpdate(e, r._groups),
      t.each(r._groups, function () {
        r._apply(this.elements, this.options)
      }),
      r._afterUpdate && r._afterUpdate(e, r._groups)
  }
  ;(r._update = function (n, a) {
    if (a && 'resize' === a.type) {
      var i = t(window).width()
      if (i === e) return
      e = i
    }
    n
      ? o === -1 &&
        (o = setTimeout(function () {
          s(a), (o = -1)
        }, r._throttle))
      : s(a)
  }),
    t(r._applyDataApi)
  var h = t.fn.on ? 'on' : 'bind'
  t(window)[h]('load', function (t) {
    r._update(!1, t)
  }),
    t(window)[h]('resize orientationchange', function (t) {
      r._update(!0, t)
    })
})

/*! smooth-scroll v7.1.1 | (c) 2015 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/smooth-scroll */
!(function (e, t) {
  'function' == typeof define && define.amd
    ? define([], t(e))
    : 'object' == typeof exports
    ? (module.exports = t(e))
    : (e.smoothScroll = t(e))
})(
  'undefined' != typeof global ? global : this.window || this.global,
  function (e) {
    'use strict'
    var t,
      n,
      o,
      r,
      a = {},
      u = 'querySelector' in document && 'addEventListener' in e,
      c = {
        selector: '[data-scroll]',
        selectorHeader: '[data-scroll-header]',
        speed: 500,
        easing: 'easeInOutCubic',
        offset: 0,
        updateURL: !0,
        callback: function () {},
      },
      i = function () {
        var e = {},
          t = !1,
          n = 0,
          o = arguments.length
        '[object Boolean]' === Object.prototype.toString.call(arguments[0]) &&
          ((t = arguments[0]), n++)
        for (
          var r = function (n) {
            for (var o in n)
              Object.prototype.hasOwnProperty.call(n, o) &&
                (t && '[object Object]' === Object.prototype.toString.call(n[o])
                  ? (e[o] = i(!0, e[o], n[o]))
                  : (e[o] = n[o]))
          };
          o > n;
          n++
        ) {
          var a = arguments[n]
          r(a)
        }
        return e
      },
      s = function (e) {
        return Math.max(e.scrollHeight, e.offsetHeight, e.clientHeight)
      },
      l = function (e, t) {
        var n,
          o,
          r = t.charAt(0),
          a = 'classList' in document.documentElement
        for (
          '[' === r &&
          ((t = t.substr(1, t.length - 2)),
          (n = t.split('=')),
          n.length > 1 &&
            ((o = !0), (n[1] = n[1].replace(/"/g, '').replace(/'/g, ''))));
          e && e !== document;
          e = e.parentNode
        ) {
          if ('.' === r)
            if (a) {
              if (e.classList.contains(t.substr(1))) return e
            } else if (
              new RegExp('(^|\\s)' + t.substr(1) + '(\\s|$)').test(e.className)
            )
              return e
          if ('#' === r && e.id === t.substr(1)) return e
          if ('[' === r && e.hasAttribute(n[0])) {
            if (!o) return e
            if (e.getAttribute(n[0]) === n[1]) return e
          }
          if (e.tagName.toLowerCase() === t) return e
        }
        return null
      },
      f = function (e) {
        for (
          var t,
            n = String(e),
            o = n.length,
            r = -1,
            a = '',
            u = n.charCodeAt(0);
          ++r < o;

        ) {
          if (((t = n.charCodeAt(r)), 0 === t))
            throw new InvalidCharacterError(
              'Invalid character: the input contains U+0000.'
            )
          a +=
            (t >= 1 && 31 >= t) ||
            127 == t ||
            (0 === r && t >= 48 && 57 >= t) ||
            (1 === r && t >= 48 && 57 >= t && 45 === u)
              ? '\\' + t.toString(16) + ' '
              : t >= 128 ||
                45 === t ||
                95 === t ||
                (t >= 48 && 57 >= t) ||
                (t >= 65 && 90 >= t) ||
                (t >= 97 && 122 >= t)
              ? n.charAt(r)
              : '\\' + n.charAt(r)
        }
        return a
      },
      d = function (e, t) {
        var n
        return (
          'easeInQuad' === e && (n = t * t),
          'easeOutQuad' === e && (n = t * (2 - t)),
          'easeInOutQuad' === e &&
            (n = 0.5 > t ? 2 * t * t : -1 + (4 - 2 * t) * t),
          'easeInCubic' === e && (n = t * t * t),
          'easeOutCubic' === e && (n = --t * t * t + 1),
          'easeInOutCubic' === e &&
            (n =
              0.5 > t
                ? 4 * t * t * t
                : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1),
          'easeInQuart' === e && (n = t * t * t * t),
          'easeOutQuart' === e && (n = 1 - --t * t * t * t),
          'easeInOutQuart' === e &&
            (n = 0.5 > t ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t),
          'easeInQuint' === e && (n = t * t * t * t * t),
          'easeOutQuint' === e && (n = 1 + --t * t * t * t * t),
          'easeInOutQuint' === e &&
            (n =
              0.5 > t ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t),
          n || t
        )
      },
      m = function (e, t, n) {
        var o = 0
        if (e.offsetParent)
          do (o += e.offsetTop), (e = e.offsetParent)
          while (e)
        return (o = o - t - n), o >= 0 ? o : 0
      },
      h = function () {
        return Math.max(
          e.document.body.scrollHeight,
          e.document.documentElement.scrollHeight,
          e.document.body.offsetHeight,
          e.document.documentElement.offsetHeight,
          e.document.body.clientHeight,
          e.document.documentElement.clientHeight
        )
      },
      p = function (e) {
        return e && 'object' == typeof JSON && 'function' == typeof JSON.parse
          ? JSON.parse(e)
          : {}
      },
      g = function (t, n) {
        e.history.pushState &&
          (n || 'true' === n) &&
          'file:' !== e.location.protocol &&
          e.history.pushState(
            null,
            null,
            [
              e.location.protocol,
              '//',
              e.location.host,
              e.location.pathname,
              e.location.search,
              t,
            ].join('')
          )
      },
      b = function (e) {
        return null === e ? 0 : s(e) + e.offsetTop
      }
    a.animateScroll = function (t, n, a) {
      var u = p(t ? t.getAttribute('data-options') : null),
        s = i(s || c, a || {}, u)
      n = '#' + f(n.substr(1))
      var l =
          '#' === n ? e.document.documentElement : e.document.querySelector(n),
        v = e.pageYOffset
      o || (o = e.document.querySelector(s.selectorHeader)), r || (r = b(o))
      var y,
        O,
        S,
        I = m(l, r, parseInt(s.offset, 10)),
        H = I - v,
        E = h(),
        L = 0
      g(n, s.updateURL)
      var j = function (o, r, a) {
          var u = e.pageYOffset
          ;(o == r || u == r || e.innerHeight + u >= E) &&
            (clearInterval(a), l.focus(), s.callback(t, n))
        },
        w = function () {
          ;(L += 16),
            (O = L / parseInt(s.speed, 10)),
            (O = O > 1 ? 1 : O),
            (S = v + H * d(s.easing, O)),
            e.scrollTo(0, Math.floor(S)),
            j(S, I, y)
        },
        C = function () {
          y = setInterval(w, 16)
        }
      0 === e.pageYOffset && e.scrollTo(0, 0), C()
    }
    var v = function (e) {
        var n = l(e.target, t.selector)
        n &&
          'a' === n.tagName.toLowerCase() &&
          (e.preventDefault(), a.animateScroll(n, n.hash, t))
      },
      y = function (e) {
        n ||
          (n = setTimeout(function () {
            ;(n = null), (r = b(o))
          }, 66))
      }
    return (
      (a.destroy = function () {
        t &&
          (e.document.removeEventListener('click', v, !1),
          e.removeEventListener('resize', y, !1),
          (t = null),
          (n = null),
          (o = null),
          (r = null))
      }),
      (a.init = function (n) {
        u &&
          (a.destroy(),
          (t = i(c, n || {})),
          (o = e.document.querySelector(t.selectorHeader)),
          (r = b(o)),
          e.document.addEventListener('click', v, !1),
          o && e.addEventListener('resize', y, !1))
      }),
      a
    )
  }
)

// Easy Responsive Tabs Plugin
// Author: Samson.Onna <Email : samson3d@gmail.com>
;(function (c) {
  c.fn.extend({
    easyResponsiveTabs: function (e) {
      var g = (e = c.extend(
          {
            type: 'default',
            width: 'auto',
            fit: !0,
            closed: !1,
            activate: function () {},
          },
          e
        )),
        m = g.type,
        r = g.fit,
        t = g.width,
        n = window.location.hash,
        u = !(!window.history || !history.replaceState)
      c(this).bind('tabactivate', function (a, c) {
        'function' === typeof e.activate && e.activate.call(c, a)
      })
      this.each(function () {
        var a = c(this),
          g = a.find('ul.resp-tabs-list'),
          h = a.attr('id')
        a.find('ul.resp-tabs-list li').addClass('resp-tab-item')
        a.css({ display: 'block', width: t })
        a.find('.resp-tabs-container > div').addClass('resp-tab-content')
        'vertical' == m && a.addClass('resp-vtabs')
        1 == r && a.css({ width: '100%', margin: '0px' })
        'accordion' == m &&
          (a.addClass('resp-easy-accordion'),
          a.find('.resp-tabs-list').css('display', 'none'))
        var p
        a.find('.resp-tab-content').before(
          "<h2 class='resp-accordion' role='tab'><span class='resp-arrow'></span></h2>"
        )
        var k = 0
        a.find('.resp-accordion').each(function () {
          p = c(this)
          var b = a.find('.resp-tab-item:eq(' + k + ')'),
            d = a.find('.resp-accordion:eq(' + k + ')')
          d.append(b.html())
          d.data(b.data())
          p.attr('aria-controls', 'tab_item-' + k)
          k++
        })
        var l = 0,
          q
        a.find('.resp-tab-item').each(function () {
          $tabItem = c(this)
          $tabItem.attr('aria-controls', 'tab_item-' + l)
          $tabItem.attr('role', 'tab')
          var b = 0
          a.find('.resp-tab-content').each(function () {
            q = c(this)
            q.attr('aria-labelledby', 'tab_item-' + b)
            b++
          })
          l++
        })
        var f = 0
        '' != n &&
          ((h = n.match(new RegExp(h + '([0-9]+)'))),
          null !== h &&
            2 === h.length &&
            ((f = parseInt(h[1], 10) - 1), f > l && (f = 0)))
        c(a.find('.resp-tab-item')[f]).addClass('resp-tab-active')
        !0 === e.closed ||
        ('accordion' === e.closed && !g.is(':visible')) ||
        ('tabs' === e.closed && g.is(':visible'))
          ? c(a.find('.resp-tab-content')[f]).addClass(
              'resp-tab-content-active resp-accordion-closed'
            )
          : (c(a.find('.resp-accordion')[f]).addClass('resp-tab-active'),
            c(a.find('.resp-tab-content')[f])
              .addClass('resp-tab-content-active')
              .attr('style', 'display:block'))
        a.find('[role=tab]').each(function () {
          c(this).click(function () {
            var b = c(this),
              d = b.attr('aria-controls')
            if (b.hasClass('resp-accordion') && b.hasClass('resp-tab-active'))
              return (
                a.find('.resp-tab-content-active').slideUp('', function () {
                  c(this).addClass('resp-accordion-closed')
                }),
                b.removeClass('resp-tab-active'),
                !1
              )
            !b.hasClass('resp-tab-active') && b.hasClass('resp-accordion')
              ? (a.find('.resp-tab-active').removeClass('resp-tab-active'),
                a
                  .find('.resp-tab-content-active')
                  .slideUp()
                  .removeClass('resp-tab-content-active resp-accordion-closed'),
                a.find('[aria-controls=' + d + ']').addClass('resp-tab-active'),
                a
                  .find('.resp-tab-content[aria-labelledby = ' + d + ']')
                  .slideDown()
                  .addClass('resp-tab-content-active'))
              : (a.find('.resp-tab-active').removeClass('resp-tab-active'),
                a
                  .find('.resp-tab-content-active')
                  .removeAttr('style')
                  .removeClass('resp-tab-content-active')
                  .removeClass('resp-accordion-closed'),
                a.find('[aria-controls=' + d + ']').addClass('resp-tab-active'),
                a
                  .find('.resp-tab-content[aria-labelledby = ' + d + ']')
                  .addClass('resp-tab-content-active')
                  .attr('style', 'display:block'))
            b.trigger('tabactivate', b)
            if (0) {
              b = window.location.hash
              d = a.find('ul.resp-tabs-list li.resp-tab-active').attr('id')
              if ('' != b)
                var e = a
                    .find('ul.resp-tabs-list li.resp-tab-active')
                    .attr('id'),
                  d = null != b.match(e) ? b.replace(e, d) : '#' + d
              else d = '#' + d
              history.replaceState(null, null, d)
            }
          })
        })
        c(window).resize(function () {
          a.find('.resp-accordion-closed').removeAttr('style')
        })
      })
    },
  })
})(jQuery)

/*! js-cookie v3.0.0-rc.1 | MIT */
!(function (e, t) {
  'object' == typeof exports && 'undefined' != typeof module
    ? (module.exports = t())
    : 'function' == typeof define && define.amd
    ? define(t)
    : ((e = e || self),
      (function () {
        var n = e.Cookies,
          r = (e.Cookies = t())
        r.noConflict = function () {
          return (e.Cookies = n), r
        }
      })())
})(this, function () {
  'use strict'
  function e(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = arguments[t]
      for (var r in n) e[r] = n[r]
    }
    return e
  }
  var t = {
    read: function (e) {
      return e.replace(/(%[\dA-F]{2})+/gi, decodeURIComponent)
    },
    write: function (e) {
      return encodeURIComponent(e).replace(
        /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,
        decodeURIComponent
      )
    },
  }
  return (function n(r, o) {
    function i(t, n, i) {
      if ('undefined' != typeof document) {
        'number' == typeof (i = e({}, o, i)).expires &&
          (i.expires = new Date(Date.now() + 864e5 * i.expires)),
          i.expires && (i.expires = i.expires.toUTCString()),
          (t = encodeURIComponent(t)
            .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)
            .replace(/[()]/g, escape)),
          (n = r.write(n, t))
        var c = ''
        for (var u in i)
          i[u] &&
            ((c += '; ' + u), !0 !== i[u] && (c += '=' + i[u].split(';')[0]))
        return (document.cookie = t + '=' + n + c)
      }
    }
    return Object.create(
      {
        set: i,
        get: function (e) {
          if ('undefined' != typeof document && (!arguments.length || e)) {
            for (
              var n = document.cookie ? document.cookie.split('; ') : [],
                o = {},
                i = 0;
              i < n.length;
              i++
            ) {
              var c = n[i].split('='),
                u = c.slice(1).join('=')
              '"' === u[0] && (u = u.slice(1, -1))
              try {
                var f = t.read(c[0])
                if (((o[f] = r.read(u, f)), e === f)) break
              } catch (e) {}
            }
            return e ? o[e] : o
          }
        },
        remove: function (t, n) {
          i(t, '', e({}, n, { expires: -1 }))
        },
        withAttributes: function (t) {
          return n(this.converter, e({}, this.attributes, t))
        },
        withConverter: function (t) {
          return n(e({}, this.converter, t), this.attributes)
        },
      },
      {
        attributes: { value: Object.freeze(o) },
        converter: { value: Object.freeze(r) },
      }
    )
  })(t, { path: '/' })
})

// Check if element(s) exist
jQuery.fn.boc_doesExist = function () {
  return jQuery(this).length > 0
}

// PRELOADER
jQuery(window).load(function () {
  jQuery('body').addClass('page-loaded')
})
;(function ($) {
  'use strict'

  var supro = supro || {}
  supro.init = function () {
    ;(supro.$body = $(document.body)),
      (supro.$window = $(window)),
      (supro.$header = $('#masthead')),
      (supro.ajaxXHR = null)

    // Scroll
    this.scrollTop()

    // Parallax
    this.parallax()
    this.suproToggleClass()
    this.photoSwipe()

    // Header
    this.canvasPanel()
    this.menuSideBar()
    this.menuSideBarButs()
    this.toggleModal()
    this.menuHover()
    this.stickyHeader()
    this.headerCss()

    // Blog
    this.blogLayout()

    // Shop
    this.shopView()
    this.catalogSorting()
    this.shopLoadingAjax()
    this.viewPort()
    this.showFilterContent()
    this.filterAjax()
    this.productQuantity()
    this.addWishlist()
    this.showAddedToCartNotice()
    this.toolTipIcon()
    this.productQuickView()
    this.productAttribute()
    this.filterScroll()
    this.recentlyViewedProducts()

    // Single Product
    this.resizeProductGallery()
    this.productThumbnail()
    this.productGalleryCarousel()
    this.productvariation()
    this.singleProductCarousel()
    this.productImagesLightbox()
    this.stickyProductSummary()
    this.loginTab()
    this.addToCartAjax()
    this.buyNow()

    // Login
    this.loginModalAuthenticate()

    this.splitmenuClass()
  }

  supro.splitmenuClass = function () {
    var myMenu = $('header')

    $('body').addClass('is_splitmenu')

    supro.$window.on('scroll', function () {
      var scroll2 = supro.$window.scrollTop()
      if (scroll2 == 0) {
        myMenu.mouseenter(function () {
          $('body').filter('.is_splitmenu').removeClass('is_splitmenu')
          $('body').addClass('is_splitmenu')
        })

        myMenu.mouseleave(function () {
          $('body').filter('.is_splitmenu').removeClass('is_splitmenu')
          $('body').removeClass('is_splitmenu')
        })
      } else {
        $('body').removeClass('is_splitmenu')
      }
    })
  }

  supro.suproToggleClass = function () {
    supro.$window
      .on('resize', function () {
        var wWidth = $('#content').width(),
          space = 0

        if (supro.$window.width() <= 1600) {
          $('.menu-extra li.menu-item-search').removeAttr('id')
        }

        if (wWidth > 1170) {
          space = (wWidth - 1170) / 2
        }

        if (suproData.isRTL !== '1') {
          $('.supro-right-offset').css({
            'margin-right': space * -1,
          })

          $('.supro-left-offset').css({
            'margin-left': space * -1,
          })
        }
      })
      .trigger('resize')
  }

  supro.resizeProductGallery = function () {
    var $product = $('.woocommerce div.product')
    if (!$product.hasClass('supro-product-layout-6')) {
      return
    }

    if (supro.$window.width() <= 991) {
      return
    }

    supro.$window
      .on('resize', function () {
        var wWidth = $('#content').width(),
          wRight = 0

        if (wWidth > 1170) {
          wRight = (wWidth - 1170) / 2
        }

        $('.supro-single-product-detail')
          .find('.woocommerce-product-gallery')
          .css({
            'margin-right': wRight * -1,
          })
      })
      .trigger('resize')
  }

  // Scroll Top
  supro.scrollTop = function () {
    var $scrollTop = $('#scroll-top')

    // Scroll effect button top
    $scrollTop.on('click', function (event) {
      event.preventDefault()
      $('html, body').stop().animate(
        {
          scrollTop: 0,
        },
        800
      )
    })
  }

  // Parallax
  supro.parallax = function () {
    supro.$window
      .on('resize', function () {
        if (supro.$window.width() > 1199) {
          $('.page-header.parallax .feature-image').parallax('50%', 0.6)
          $('.supro-sale-product.parallax').parallax('50%', 0.6)
        }
      })
      .trigger('resize')
  }

  // photoSwipe
  supro.photoSwipe = function () {
    var $images = $('.supro-photo-swipe')

    if (!$images.length) {
      return
    }

    var $links = $images.find('a.photoswipe'),
      items = []

    $links.each(function () {
      var $this = $(this),
        $w = $this.attr('data-width'),
        $h = $this.attr('data-height')

      items.push({
        src: $this.attr('href'),
        w: $w,
        h: $h,
      })
    })

    $images.on('click', 'a.photoswipe', function (e) {
      e.preventDefault()

      var index = $links.index($(this)),
        options = {
          index: index,
          bgOpacity: 0.85,
          showHideOpacity: true,
          mainClass: 'pswp--minimal-dark',
          barsSize: { top: 0, bottom: 0 },
          captionEl: false,
          fullscreenEl: false,
          shareEl: false,
          tapToClose: true,
          tapToToggleControls: false,
        }

      var lightBox = new PhotoSwipe(
        document.getElementById('pswp'),
        window.PhotoSwipeUI_Default,
        items,
        options
      )
      lightBox.init()
    })
  }

  // Off Canvas Panel
  supro.canvasPanel = function () {
    /**
     * Off canvas cart toggle
     */
    supro.$body.on('click', '.hiddenclick', function (e) {
      e.preventDefault()
      supro.openCanvasPanel($('#cart-panel'))
    })

    supro.$header.on('click', '.cart-contents', function (e) {
      e.preventDefault()
      supro.openCanvasPanel2($('#cart-panel'))
    })

    if (suproData.open_cart_mini == '1') {
      $(document.body).on('added_to_cart', function () {
        supro.openCanvasPanel2($('#cart-panel'))
      })
    }

    supro.$header.on('click', '#icon-menu-sidebar', function (e) {
      e.preventDefault()
      supro.openCanvasPanel2($('#menu-sidebar-panel'))
    })

    supro.$header.on('click', '#icon-menu-mobile', function (e) {
      e.preventDefault()
      supro.openCanvasPanel2($('#menu-sidebar-panel'))
    })

    supro.$window
      .on('resize', function () {
        if (supro.$window.width() > 1199) {
          supro.$body.on('click', '.un-filter', function (e) {
            e.preventDefault()
            supro.openCanvasPanel2($('#un-shop-topbar'))
          })
        }
      })
      .trigger('resize')

    supro.$body.on(
      'click',
      '#off-canvas-layer, .close-canvas-panel',
      function (e) {
        e.preventDefault()
        supro.closeCanvasPanel()
      }
    )
  }

  supro.openCanvasPanel = function ($panel) {
    if ($('.mini-cart-counter').html() == 1) {
      supro.$body.addClass('open-canvas-panel')
      $panel.addClass('open')

      setTimeout(function () {
        if ($('#cart-panel').hasClass('openviacartbut')) {
          supro.closeCanvasPanel()
        }
      }, 3000)
    }

    supro.closeModal()
  }

  supro.openCanvasPanel2 = function ($panel) {
    supro.$body.addClass('open-canvas-panel')
    $panel.addClass('open')
    setTimeout(function () {
      if ($('#cart-panel').hasClass('openviacartbut')) {
        supro.closeCanvasPanel()
      }
    }, 3000)
    supro.closeModal()
  }

  supro.closeCanvasPanel = function () {
    supro.$body.removeClass('open-canvas-panel')
    $('#cart-panel').removeClass('openviacartbut')
    $(
      '.supro-off-canvas-panel, #primary-mobile-nav, .catalog-sidebar, .shop-topbar'
    ).removeClass('open')

    supro.$window
      .on('resize', function () {
        if (supro.$window.width() > 1199) {
          $('.un-filter').removeClass('active')
        }
      })
      .trigger('resize')
  }

  // Toggle Menu Sidebar
  supro.menuSideBar = function () {
    var $menuSidebar = $('#menu-sidebar-panel'),
      $item = $menuSidebar.find('li.menu-item-has-children > a')

    $menuSidebar
      .find('.menu .menu-item-has-children > a')
      .append(
        '<span class="toggle-menu-children"><i class="icon-ion-android-add"></i> </span>'
      )

    if (
      suproData.menu_mobile_behaviour === 'icon' &&
      supro.$window.width() < 1200
    ) {
      $item = $menuSidebar.find(
        'li.menu-item-has-children .toggle-menu-children'
      )
    }

    if (
      suproData.menu_mobile_behaviour === 'whole' &&
      supro.$window.width() < 1200
    ) {
      $item = $menuSidebar.find('li.menu-item-has-children')
    }

    supro.mobileMenuSidebar($item)
  }

  // Toggle Menu Sidebar
  supro.menuSideBarButs = function () {
    var $menuSidebar = $('#menu-sidebar-panel')

    $menuSidebar
      .find('li.minimobilebut > a')
      .addClass('buttonogs btn_small btn_white icon_pos_after mobbuttonarrow')
    $menuSidebar
      .find('li.minimobilebut > a')
      .append(' <i class="icon-arrow-right "></i>')
  }

  supro.mobileMenuSidebar = function ($item) {
    $item.on('click', function (e) {
      //e.preventDefault();

      $(this)
        .closest('li')
        .siblings()
        .find('ul.sub-menu, ul.dropdown-submenu')
        .slideUp()
      $(this).closest('li').siblings().removeClass('active')

      $(this)
        .closest('li')
        .children('ul.sub-menu, ul.dropdown-submenu')
        .slideToggle()
      $(this).closest('li').toggleClass('active')
    })
  }

  /**
   *  Toggle modal
   */
  supro.toggleModal = function () {
    supro.$body.on('click', '.menu-extra-search', function (e) {
      e.preventDefault()
      supro.openModal($('.search-modal'))
      $(this).addClass('show')
      $('#search-modal').find('.search-field').focus()
    })

    supro.$body.on('click', '#supro-newsletter-icon', function (e) {
      e.preventDefault()
      supro.openModal($('#footer-newsletter-modal'))
      $(this).addClass('hide')
    })

    if (suproData.login_popup !== '1') {
      supro.$body.on('click', '#menu-extra-login', function (e) {
        e.preventDefault()

        supro.openModal($('#login-modal'))
        $(this).addClass('show')
      })
    }

    supro.$body.on('click', '.close-modal', function (e) {
      e.preventDefault()
      supro.closeModal()
    })
  }

  /**
   * Main navigation sub-menu hover
   */
  supro.menuHover = function () {
    var animations = {
      none: ['show', 'hide'],
      fade: ['fadeIn', 'fadeOut'],
      slide: ['slideDown', 'slideUp'],
    }

    var animation = suproData.menu_animation
      ? animations[suproData.menu_animation]
      : 'fade'

    $('.primary-nav li, .menu-extra li.menu-item-account')
      .on('mouseenter', function () {
        $(this)
          .addClass('active')
          .children('.dropdown-submenu')
          .stop(true, true)
          [animation[0]]()
      })
      .on('mouseleave', function () {
        $(this)
          .removeClass('active')
          .children('.dropdown-submenu')
          .stop(true, true)
          [animation[1]]()
      })
  }

  // Header CSS
  supro.headerCss = function () {
    if (!supro.$body.hasClass('topbar-enable')) {
      return
    }

    if (supro.$body.hasClass('header-left-sidebar')) {
      return
    }

    if (supro.$body.hasClass('page-template-template-coming-soon-page')) {
      return
    }

    var $wpAdminBar = $('#wpadminbar'),
      $headerTransparent = $('.header-transparent .site-header'),
      $topbarTransparent = $('.header-transparent .topbar'),
      adminBarHeight = $wpAdminBar.outerHeight(true),
      top = 0

    if ($wpAdminBar.length) {
      top += adminBarHeight

      if (supro.$body.hasClass('page-template-template-home-boxed')) {
        top += 20
      }
    }

    supro.$window
      .on('resize', function () {
        var topBar = $('.topbar').outerHeight(true)

        if (supro.$window.width() < 1200) {
          topBar = $('.topbar-mobile').outerHeight(true)
        }

        $topbarTransparent.css('top', top)
        $headerTransparent.css('top', top + topBar)
      })
      .trigger('resize')

    supro.$window.on('scroll', function () {
      var scrollTop,
        scroll = supro.$window.scrollTop(),
        hHeader = supro.$header.outerHeight(true)

      var topBar = $('.topbar').outerHeight(true)

      if (supro.$window.width() < 1200) {
        topBar = $('.topbar-mobile').outerHeight(true)
      }

      scrollTop = 20 + topBar + hHeader

      if (scroll > scrollTop) {
        $headerTransparent.css('top', top)
      } else {
        $headerTransparent.css('top', top + topBar)
      }
    })
  }

  supro.stickyHeader = function () {
    if (!supro.$body.hasClass('header-sticky')) {
      return
    }

    if (supro.$body.hasClass('header-left-sidebar')) {
      return
    }

    if (supro.$body.hasClass('page-template-template-coming-soon-page')) {
      return
    }

    supro.$window.on('scroll', function () {
      var scrollTop = 20,
        scroll = supro.$window.scrollTop(),
        topbar,
        hHeader = supro.$header.outerHeight(true)

      if (supro.$body.hasClass('topbar-enable')) {
        topbar = $('.topbar').outerHeight(true)

        if (supro.$window.width() < 1200) {
          topbar = $('.topbar-mobile').outerHeight(true)
        }

        scrollTop = scrollTop + topbar + hHeader
      }

      if (scroll > scrollTop) {
        supro.$header.addClass('minimized')
        $('#su-header-minimized').addClass('minimized')
      } else {
        supro.$header.removeClass('minimized')
        $('#su-header-minimized').removeClass('minimized')
      }
    })

    supro.$window
      .on('resize', function () {
        var hHeader = supro.$header.outerHeight(true),
          $h = $('#su-header-minimized')

        if (!supro.$body.hasClass('header-transparent')) {
          $h.height(hHeader)
        }
      })
      .trigger('resize')
  }

  /**
   * Open modal
   *
   * @param $modal
   */
  supro.openModal = function ($modal) {
    supro.$body.addClass('modal-open')
    $modal.fadeIn()
    $modal.addClass('open')
  }

  /**
   * Close modal
   */
  supro.closeModal = function () {
    supro.$body.removeClass('modal-open')
    $('.supro-modal').fadeOut(function () {
      supro.$body
        .find('.menu-extra-search, #menu-extra-login')
        .removeClass('show')
      $('#supro-newsletter-icon').removeClass('hide')
      $(this).removeClass('open')
    })
  }

  // Blog isotope
  supro.blogLayout = function () {
    if (!supro.$body.hasClass('blog-masonry')) {
      return
    }

    var $blogList = supro.$body.find('.supro-post-list')

    $blogList.imagesLoaded(function () {
      $blogList.isotope({
        itemSelector: '.blog-wrapper',
        percentPosition: true,
        masonry: {
          columnWidth: '.blog-masonry-sizer',
          gutter: '.blog-gutter-sizer',
        },
      })
    })
  }

  /**
   * Shop
   */
  // Show Filter widget
  supro.showFilterContent = function () {
    var $shopTopbar = $('#un-shop-topbar')

    supro.$window
      .on('resize', function () {
        $shopTopbar.find('.widget-title').next().removeAttr('style')
      })
      .trigger('resize')

    supro.$body
      .find('#supro-catalog-filter-mobile')
      .on('click', 'a', function (e) {
        e.preventDefault()
        $(this).toggleClass('active')
        //	supro.$body.toggleClass( 'show-filters-content-mobile' );
        supro.$body.addClass('open-canvas-panel')

        if (supro.$body.hasClass('full-content')) {
          $('.shop-topbar').addClass('open')
        } else {
          $('.catalog-sidebar').addClass('open')
        }
      })

    supro.$body.find('#supro-catalog-filter').on('click', 'a', function (e) {
      e.preventDefault()
      $(this).toggleClass('active')
      $shopTopbar.slideToggle()
      supro.$body.toggleClass('show-filters-content')
    })

    supro.$body.find('.filters-bottom').on('click', 'a', function (e) {
      e.preventDefault()
      $(this).addClass('active')
      supro.$body.addClass('show-filters-content')
    })
  }

  // Filter Ajax
  supro.filterAjax = function () {
    if (!supro.$body.hasClass('catalog-ajax-filter')) {
      return
    }

    supro.$body.on('price_slider_change', function (event, ui) {
      var form = $('.price_slider').closest('form').get(0),
        $form = $(form),
        url = $form.attr('action') + '?' + $form.serialize()

      $(document.body).trigger('supro_catelog_filter_ajax', url, $(this))
    })

    supro.$body.on('click', '#remove-filter-actived', function (e) {
      e.preventDefault()
      var url = $(this).attr('href')
      $(document.body).trigger('supro_catelog_filter_ajax', url, $(this))
    })

    supro.$body
      .find('#supro-shop-toolbar')
      .find('.woocommerce-ordering')
      .on('click', 'a', function (e) {
        e.preventDefault()
        $(this).addClass('active')
        var url = $(this).attr('href')
        $(document.body).trigger('supro_catelog_filter_ajax', url, $(this))
      })

    supro.$body
      .find('#un-shop-topbar, .catalog-sidebar')
      .on('click', 'a', function (e) {
        var $widget = $(this).closest('.widget')
        if (
          $widget.hasClass('widget_product_tag_cloud') ||
          $widget.hasClass('supro_widget_product_categories') ||
          $widget.hasClass('widget_product_categories') ||
          $widget.hasClass('widget_layered_nav_filters') ||
          $widget.hasClass('widget_layered_nav') ||
          $widget.hasClass('product-sort-by') ||
          $widget.hasClass('supro-price-filter-list')
        ) {
          e.preventDefault()
          $(this).closest('li').addClass('chosen')
          var url = $(this).attr('href')
          $(document.body).trigger('supro_catelog_filter_ajax', url, $(this))
        }

        if ($widget.hasClass('widget_product_tag_cloud')) {
          $(this).addClass('selected')
        }

        if ($widget.hasClass('product-sort-by')) {
          $(this).addClass('active')
        }
      })

    supro.$body.find('#supro-catalog-taxs-list').on('click', 'a', function (e) {
      e.preventDefault()
      $(this).addClass('selected')
      $(this).closest('li').siblings('li').find('a').removeClass('selected')
      var url = $(this).attr('href')
      $(document.body).trigger('supro_catelog_filter_ajax', url, $(this))
    })

    supro.$body.on('supro_catelog_filter_ajax', function (e, url, element) {
      var $container = $('#supro-shop-content'),
        $container_nav = $('#primary-sidebar'),
        $shopTopbar = $('#un-shop-topbar'),
        $shopToolbar = $('#supro-shop-toolbar'),
        $ordering = $('.shop-toolbar .woocommerce-ordering'),
        $found = $('.shop-toolbar .product-found'),
        $pageHeader = $('.page-header-catalog'),
        $productHeader = $('.woocommerce-products-header')

      if ($shopToolbar.length > 0) {
        var position = $shopToolbar.offset().top - 200
        $('html, body').stop().animate(
          {
            scrollTop: position,
          },
          1200
        )
      }

      $('.supro-catalog-loading').addClass('show')

      if ('?' == url.slice(-1)) {
        url = url.slice(0, -1)
      }

      url = url.replace(/%2C/g, ',')

      history.pushState(null, null, url)

      $(document.body).trigger('supro_ajax_filter_before_send_request', [
        url,
        element,
      ])

      if (supro.ajaxXHR) {
        supro.ajaxXHR.abort()
      }

      supro.ajaxXHR = $.get(
        url,
        function (res) {
          var $sContent =
            $(res).find('#supro-shop-content').length > 0
              ? $(res).find('#supro-shop-content').html()
              : ''
          $container.html($sContent)
          $container_nav.html($(res).find('#primary-sidebar').html())
          $shopTopbar.html($(res).find('#un-shop-topbar').html())

          if ($(res).find('.shop-toolbar .woocommerce-ordering').length > 0) {
            $ordering.html(
              $(res).find('.shop-toolbar .woocommerce-ordering').html()
            )
          }

          $found.html($(res).find('.shop-toolbar .product-found').html())
          $pageHeader.html($(res).find('#page-header-catalog').html())
          $productHeader.html(
            $(res).find('.woocommerce-products-header').html()
          )

          supro.priceSlider()
          supro.filterScroll()
          $('.supro-catalog-loading').removeClass('show')

          $(document.body).trigger('supro_ajax_filter_request_success', [
            res,
            url,
          ])

          supro.toolTipIcon()
          supro.shopView()
          supro.showFilterContent()
        },
        'html'
      )
    })
  }

  // Change product quantity

  supro.productQuantity = function () {
    supro.$body.on(
      'click',
      '.quantity .increase, .quantity .decrease',
      function (e) {
        e.preventDefault()

        var $this = $(this),
          $qty = $this.siblings('.qty'),
          step = parseInt($qty.attr('step'), 10),
          current = parseInt($qty.val(), 10),
          min = parseInt($qty.attr('min'), 10),
          max = parseInt($qty.attr('max'), 10)

        min = min ? min : 1
        max = max ? max : current + 1

        if ($this.hasClass('decrease') && current > min) {
          $qty.val(current - step)
          $qty.trigger('change')
        }
        if ($this.hasClass('increase') && current < max) {
          $qty.val(current + step)
          $qty.trigger('change')
        }
      }
    )
  }

  supro.catalogSorting = function () {
    var $sortingMobile = $('#supro-catalog-sorting-mobile')

    $('#supro-shop-toolbar').on(
      'click',
      '#supro-woocommerce-ordering-mobile',
      function (e) {
        e.preventDefault()
        $sortingMobile.addClass('sort-by-active')
      }
    )

    $sortingMobile.on('click', '.cancel-order', function (e) {
      e.preventDefault()
      $sortingMobile.removeClass('sort-by-active')
    })
  }

  // Shop View
  supro.shopView = function () {
    $('#supro-shop-view').on('click', 'a', function (e) {
      e.preventDefault()
      var $el = $(this),
        view = $el.data('view')

      if ($el.hasClass('current')) {
        return
      }

      $el.addClass('current').siblings().removeClass('current')
      supro.$body
        .removeClass('shop-view-grid shop-view-list')
        .addClass('shop-view-' + view)

      document.cookie =
        'shop_view=' + view + ';domain=' + window.location.host + ';path=/'
    })

    if (
      supro.$body.hasClass('catalog-masonry') &&
      supro.$body.hasClass('shop-view-list')
    ) {
      supro.$body.removeClass('shop-view-list').addClass('shop-view-grid')
    }
  }

  // Loading Ajax
  supro.shopLoadingAjax = function () {
    // Shop Page
    supro.$body.on(
      'click',
      '#supro-shop-infinite-loading a.next',
      function (e) {
        e.preventDefault()

        if ($(this).data('requestRunning')) {
          return
        }

        $(this).data('requestRunning', true)

        var $products = $(this)
            .closest('.woocommerce-pagination')
            .prev('.products'),
          $pagination = $(this).closest('.woocommerce-pagination'),
          $parent = $(this).parents('#supro-shop-infinite-loading')

        $parent.addClass('loading')

        $.get($(this).attr('href'), function (response) {
          var content = $(response).find('ul.products').children('li.product'),
            $pagination_html = $(response)
              .find('.woocommerce-pagination')
              .html()

          $pagination.html($pagination_html)

          for (var index = 0; index < content.length; index++) {
            $(content[index]).css('animation-delay', index * 100 + 100 + 'ms')
          }

          content.addClass('suproFadeInUp suproAnimation')

          $products.append(content)
          $pagination.find('.page-numbers.next').data('requestRunning', false)
          $parent.removeClass('loading')
          supro.$body.trigger('supro_shop_ajax_loading_success')

          if (!$pagination.find('li .page-numbers').hasClass('next')) {
            $pagination.addClass('loaded')
          }

          supro.toolTipIcon()
          supro.$body.trigger('yith_wcwl_init')
        })
      }
    )
  }

  supro.viewPort = function () {
    if ('infinite' !== suproData.shop_nav_type) {
      return
    }

    supro.$window
      .on('scroll', function () {
        if (
          supro.$body.find('#supro-shop-infinite-loading').is(':in-viewport')
        ) {
          supro.$body
            .find('#supro-shop-infinite-loading a.next')
            .trigger('click')
        }
      })
      .trigger('scroll')
  }

  /**
   * Show photoSwipe lightbox for product images
   */
  supro.productImagesLightbox = function () {
    var $images = $('.woocommerce-product-gallery')

    if (!$images.length) {
      return
    }

    if ('no' == suproData.product.lightbox) {
      $images.on(
        'click',
        'a.gallery-item-icon, a.video-item-icon',
        function () {
          return false
        }
      )
      return
    }

    var $links = $images.find('.woocommerce-product-gallery__image')

    $images.on('click', 'a.gallery-item-icon', function (e) {
      e.preventDefault()

      var items = []

      $links.each(function () {
        var $a = $(this).find('a')
        items.push({
          src: $a.attr('href'),
          w: $a.find('img').attr('data-large_image_width'),
          h: $a.find('img').attr('data-large_image_height'),
        })
      })

      var index = $images.find('.flex-active-slide').index()
      lightBox(index, items)
    })

    $images.on('click', 'a.video-item-icon', function (e) {
      e.preventDefault()

      var items = [],
        $el = $(this)

      items.push({
        html: $el.data('href'),
      })

      var index = 0
      lightBox(index, items)
    })

    $images
      .find('.woocommerce-product-gallery__image')
      .on('click', 'a', function (e) {
        e.preventDefault()

        if (
          supro.$body.hasClass('single-product-layout-1') ||
          supro.$body.hasClass('single-product-layout-2')
        ) {
          return false
        }

        var items = []

        $links.each(function () {
          var $a = $(this).find('a')
          items.push({
            src: $a.attr('href'),
            w: $a.find('img').attr('data-large_image_width'),
            h: $a.find('img').attr('data-large_image_height'),
          })
        })

        var index = $links.index(
          $(this).closest('.woocommerce-product-gallery__image')
        )
        lightBox(index, items)
      })

    function lightBox(index, items) {
      var options = {
        index: index,
        bgOpacity: 0.85,
        showHideOpacity: true,
        mainClass: 'pswp--minimal-dark',
        barsSize: { top: 0, bottom: 0 },
        captionEl: false,
        fullscreenEl: false,
        shareEl: false,
        tapToClose: true,
        tapToToggleControls: false,
      }

      var lightBox = new PhotoSwipe(
        document.getElementById('pswp'),
        window.PhotoSwipeUI_Default,
        items,
        options
      )
      lightBox.init()

      lightBox.listen('close', function () {
        $('#pswp .video-wrapper')
          .find('iframe')
          .each(function () {
            $(this).attr('src', $(this).attr('src'))
          })

        $('#pswp .video-wrapper')
          .find('video')
          .each(function () {
            $(this)[0].pause()
          })
      })
    }
  }

  /**
   * Make product summary be sticky when use product layout 1
   */
  supro.stickyProductSummary = function () {
    if ($.fn.stick_in_parent && supro.$window.width() > 991) {
      var $el = $('div.product .sticky-summary'),
        offSet = 30

      if (supro.$body.hasClass('header-sticky')) {
        offSet = 130
      }

      $el.stick_in_parent({
        parent: '.supro-single-product-detail',
        offset_top: offSet,
      })
    }
  }

  /**
   * Change product quantity
   */
  supro.productThumbnail = function () {
    if (suproData.product.thumb_slider != '1') {
      return
    }

    var $gallery = $('.woocommerce-product-gallery')
    var $thumbnail = $gallery.find('.flex-control-thumbs')
    $gallery.imagesLoaded(function () {
      setTimeout(function () {
        if ($thumbnail.length < 1) {
          return
        }
        var columns = $gallery.data('columns')
        var count = $thumbnail.find('li').length
        if (count > columns) {
          if (suproData.product.thumb_vertical == '1') {
            var vertical = true

            if (supro.$window.width() <= 480) {
              vertical = false
            }

            $thumbnail.not('.slick-initialized').slick({
              rtl: suproData.isRTL === '1',
              slidesToShow: columns,
              focusOnSelect: true,
              slidesToScroll: 1,
              vertical: vertical,
              infinite: false,
              prevArrow:
                '<span class="icon-chevron-up slick-prev-arrow"></span>',
              nextArrow:
                '<span class="icon-chevron-down slick-next-arrow"></span>',
              responsive: [
                {
                  breakpoint: 768,
                  settings: {
                    slidesToShow: 4,
                  },
                },
                {
                  breakpoint: 480,
                  settings: {
                    slidesToShow: 3,
                  },
                },
              ],
            })

            $thumbnail.find('li.slick-current').trigger('click')
          } else {
            $thumbnail.not('.slick-initialized').slick({
              rtl: suproData.isRTL === '1',
              slidesToShow: columns,
              focusOnSelect: true,
              slidesToScroll: 1,
              infinite: false,
              prevArrow:
                '<span class="icon-chevron-left slick-prev-arrow"></span>',
              nextArrow:
                '<span class="icon-chevron-right slick-next-arrow"></span>',
            })
          }
        } else {
          $thumbnail.addClass('no-slick')
        }
      }, 100)
    })
  }

  supro.productGalleryCarousel = function () {
    if (suproData.product.gallery_carousel != '1') {
      return
    }

    var $product = $('.woocommerce div.product'),
      $gallery = $('div.images', $product),
      $sliders = $('.woocommerce-product-gallery__wrapper', $gallery)

    // Show it

    $gallery.imagesLoaded(function () {
      var slidersOptions = {
        rtl: suproData.isRTL === '1',
        slidesToShow: 1,
        slidesToScroll: 1,
        infinite: false,
        arrows: true,
        prevArrow: '<span class="icon-arrow-left slick-prev-arrow"></span>',
        nextArrow: '<span class="icon-arrow-right slick-next-arrow"></span>',
      }

      if ($product.hasClass('supro-product-layout-5')) {
        var start = $sliders.children().length > 2 ? 1 : 0
        slidersOptions.centerMode = true
        slidersOptions.initialSlide = start
        slidersOptions.centerPadding = '26.8%'
        slidersOptions.appendArrows = $('.slick-arrow-wrapper')
        slidersOptions.responsive = [
          {
            breakpoint: 601,
            settings: {
              centerPadding: '0',
            },
          },
        ]
      }

      if ($product.hasClass('supro-product-layout-6')) {
        slidersOptions.prevArrow =
          '<span class="arrow_carrot-left slick-prev-arrow"></span>'
        slidersOptions.nextArrow =
          '<span class="arrow_carrot-right slick-next-arrow"></span>'
        slidersOptions.variableWidth = true
        slidersOptions.slidesToShow = 2
        slidersOptions.responsive = [
          {
            breakpoint: 1200,
            settings: {
              variableWidth: false,
            },
          },
          {
            breakpoint: 768,
            settings: {
              slidesToShow: 1,
            },
          },
        ]
      }

      $sliders.not('.slick-initialized').slick(slidersOptions)
    })
  }

  supro.productvariation = function () {
    var $form = $('.variations_form')

    supro.$body.on('tawcvs_initialized', function () {
      $form.unbind('tawcvs_no_matching_variations')
      $form.on('tawcvs_no_matching_variations', function (event, $el) {
        event.preventDefault()

        $form.find('.woocommerce-variation.single_variation').show()
        if (typeof wc_add_to_cart_variation_params !== 'undefined') {
          $('.variations_form')
            .find('.single_variation')
            .slideDown(200)
            .html(
              '<p>' +
                wc_add_to_cart_variation_params.i18n_no_matching_variations_text +
                '</p>'
            )
        }
      })
    })

    $('.variations_form td.value').on('change', 'select', function () {
      var value = $(this).find('option:selected').text()
      $(this).closest('tr').find('td.label .supro-attr-value').html(value)
    })

    $form.find('td.value').each(function () {
      if (!$(this).find('.variation-selector').hasClass('hidden')) {
        $(this).addClass('show-select')
      } else {
        $(this).prev().addClass('show-label')
      }
    })

    if (typeof wc_add_to_cart_variation_params !== 'undefined') {
      $form.on(
        'found_variation.wc-variation-form',
        function (event, variation) {
          var $sku = $('.supro-single-product-detail')
            .find('.sku_wrapper')
            .find('.sku')

          if (variation.sku) {
            $sku.wc_set_content(variation.sku)
          } else {
            $sku.wc_reset_content()
          }
        }
      )

      $form.on('reset_data', function (event, variation) {
        $('.supro-single-product-detail')
          .find('.sku_wrapper')
          .find('.sku')
          .wc_reset_content()
      })
    }
  }

  // Get price js slider
  supro.priceSlider = function () {
    // woocommerce_price_slider_params is required to continue, ensure the object exists
    if (typeof woocommerce_price_slider_params === 'undefined') {
      return false
    }

    if (
      $('.catalog-sidebar').find('.widget_price_filter').length <= 0 &&
      $('#un-shop-topbar').find('.widget_price_filter').length <= 0
    ) {
      return false
    }

    // Get markup ready for slider
    $('input#min_price, input#max_price').hide()
    $('.price_slider, .price_label').show()

    // Price slider uses jquery ui
    var min_price = $('.price_slider_amount #min_price').data('min'),
      max_price = $('.price_slider_amount #max_price').data('max'),
      current_min_price = parseInt(min_price, 10),
      current_max_price = parseInt(max_price, 10)

    if ($('.price_slider_amount #min_price').val() != '') {
      current_min_price = parseInt(
        $('.price_slider_amount #min_price').val(),
        10
      )
    }
    if ($('.price_slider_amount #max_price').val() != '') {
      current_max_price = parseInt(
        $('.price_slider_amount #max_price').val(),
        10
      )
    }

    $(document.body).on(
      'price_slider_create price_slider_slide',
      function (event, min, max) {
        if (woocommerce_price_slider_params.currency_pos === 'left') {
          $('.price_slider_amount span.from').html(
            woocommerce_price_slider_params.currency_symbol + min
          )
          $('.price_slider_amount span.to').html(
            woocommerce_price_slider_params.currency_symbol + max
          )
        } else if (
          woocommerce_price_slider_params.currency_pos === 'left_space'
        ) {
          $('.price_slider_amount span.from').html(
            woocommerce_price_slider_params.currency_symbol + ' ' + min
          )
          $('.price_slider_amount span.to').html(
            woocommerce_price_slider_params.currency_symbol + ' ' + max
          )
        } else if (woocommerce_price_slider_params.currency_pos === 'right') {
          $('.price_slider_amount span.from').html(
            min + woocommerce_price_slider_params.currency_symbol
          )
          $('.price_slider_amount span.to').html(
            max + woocommerce_price_slider_params.currency_symbol
          )
        } else if (
          woocommerce_price_slider_params.currency_pos === 'right_space'
        ) {
          $('.price_slider_amount span.from').html(
            min + ' ' + woocommerce_price_slider_params.currency_symbol
          )
          $('.price_slider_amount span.to').html(
            max + ' ' + woocommerce_price_slider_params.currency_symbol
          )
        }

        $(document.body).trigger('price_slider_updated', [min, max])
      }
    )
    if (typeof $.fn.slider !== 'undefined') {
      $('.price_slider').slider({
        range: true,
        animate: true,
        min: min_price,
        max: max_price,
        values: [current_min_price, current_max_price],
        create: function () {
          $('.price_slider_amount #min_price').val(current_min_price)
          $('.price_slider_amount #max_price').val(current_max_price)

          $(document.body).trigger('price_slider_create', [
            current_min_price,
            current_max_price,
          ])
        },
        slide: function (event, ui) {
          $('input#min_price').val(ui.values[0])
          $('input#max_price').val(ui.values[1])

          $(document.body).trigger('price_slider_slide', [
            ui.values[0],
            ui.values[1],
          ])
        },
        change: function (event, ui) {
          $(document.body).trigger('price_slider_change', [
            ui.values[0],
            ui.values[1],
          ])
        },
      })
    }
  }

  //related & upsell slider

  supro.singleProductCarousel = function () {
    var $singleProduct = $('.single-product'),
      $upsells = $singleProduct.find('.up-sells'),
      $upsellsProduct = $upsells.find('ul.products'),
      upsellsProductColumns = $upsells.data('columns'),
      $related = $singleProduct.find('.related.products'),
      $relatedProduct = $related.find('ul.products'),
      relatedProductColumns = $related.data('columns')

    // Product thumnails and featured image slider
    $upsellsProduct.not('.slick-initialized').slick({
      rtl: suproData.isRTL === '1',
      infinite: false,
      slidesToShow: upsellsProductColumns,
      slidesToScroll: 1,
      lazyLoad: 'ondemand',
      arrows: false,
      dots: true,
      responsive: [
        {
          breakpoint: 1200,
          settings: {
            slidesToShow:
              parseInt(upsellsProductColumns) > 3
                ? 3
                : parseInt(upsellsProductColumns),
            slidesToScroll: 1,
          },
        },
        {
          breakpoint: 992,
          settings: {
            slidesToShow:
              parseInt(upsellsProductColumns) > 2
                ? 2
                : parseInt(upsellsProductColumns),
            slidesToScroll: 1,
          },
        },
        {
          breakpoint: 481,
          settings: {
            slidesToShow: 1,
            slidesToScroll: 1,
          },
        },
      ],
    })

    $relatedProduct.not('.slick-initialized').slick({
      rtl: suproData.isRTL === '1',
      infinite: false,
      slidesToShow: 4,
      slidesToScroll: 1,
      centerMode: true,
      centerPadding: 100,
      infinite: true,
      arrows: true,
      lazyLoad: 'ondemand',
      dots: false,
      prevArrow: '<span class="icon icon-exportleft  slick-next-arrow"></span>',
      nextArrow:
        '<span class="icon icon-circleright  slick-next-arrow"></span>',

      responsive: [
        {
          breakpoint: 1024,
          settings: {
            slidesToShow: 3,
            slidesToScroll: 1,
          },
        },
        {
          breakpoint: 768,
          settings: {
            slidesToShow: 2,
            slidesToScroll: 1,
          },
        },
        {
          breakpoint: 480,
          settings: {
            slidesToShow: 1,
            slidesToScroll: 1,
          },
        },
      ],
    })
  }

  // Recently Viewed Products
  supro.recentlyViewedProducts = function () {
    footerRecentlyProducts()

    function footerRecentlyProducts() {
      var $recently = $('#footer-recently-viewed')
      if ($recently.length <= 0) {
        return
      }

      if (!$recently.hasClass('load-ajax')) {
        return
      }

      if ($recently.hasClass('loaded')) {
        return
      }

      $.ajax({
        url: suproData.ajax_url,
        dataType: 'json',
        method: 'post',
        data: {
          action: 'supro_footer_recently_viewed',
          nonce: suproData.nonce,
        },
        error: function () {
          $recently.addClass('no-products')
        },
        success: function (response) {
          $recently.html(response.data)

          if ($recently.find('.product-list').hasClass('no-products')) {
            $recently.addClass('no-products')
          }

          recentlyCarousel($recently)
          $recently.addClass('loaded')
        },
      })
    }

    function recentlyCarousel($recently) {
      if (!$recently.find('.product-list').hasClass('no-products')) {
        var columns = parseInt($recently.data('columns'))

        $recently
          .find('.product-list')
          .not('.slick-initialized')
          .slick({
            rtl: suproData.direction === 'true',
            slidesToShow: columns,
            slidesToScroll: columns,
            arrows: true,
            dots: false,
            infinite: false,
            prevArrow:
              '<span class="ion-ios-arrow-left slick-prev-arrow"></span>',
            nextArrow:
              '<span class="ion-ios-arrow-right slick-next-arrow"></span>',
            responsive: [
              {
                breakpoint: 1200,
                settings: {
                  slidesToShow: 4,
                  slidesToScroll: 4,
                },
              },
              {
                breakpoint: 992,
                settings: {
                  slidesToShow: 3,
                  slidesToScroll: 3,
                },
              },
              {
                breakpoint: 768,
                settings: {
                  slidesToShow: 2,
                  slidesToScroll: 2,
                },
              },
              {
                breakpoint: 481,
                settings: {
                  slidesToShow: 2,
                  slidesToScroll: 2,
                  arrows: false,
                  dots: true,
                },
              },
            ],
          })
      }
    }
  }

  supro.loginTab = function () {
    var $tabs = $('.supro-tabs'),
      $el = $tabs.find('.tabs-nav a'),
      $panels = $tabs.find('.tabs-panel')
    $el.on('click', function (e) {
      e.preventDefault()

      var $tab = $(this),
        index = $tab.parent().index()

      if ($tab.hasClass('active')) {
        return
      }

      $tabs.find('.tabs-nav a').removeClass('active')
      $tab.addClass('active')
      $panels.removeClass('active')
      $panels.filter(':eq(' + index + ')').addClass('active')
    })
  }

  /**
   * Toggle product quick view
   */
  supro.productQuickView = function () {
    supro.$body.on('click', '.supro-product-quick-view', function (e) {
      e.preventDefault()
      var $a = $(this)

      var url = $a.attr('href'),
        $modal = $('#quick-view-modal'),
        $product = $modal.find('.product'),
        $product_sumary = $modal.find('.product-summary'),
        $product_images = $modal.find('.product-images-wrapper'),
        $button = $modal.find('.modal-header .close-modal').first().clone()

      $product.removeClass().addClass('invisible')
      $product_sumary.html('')
      $product_images.html('')

      $modal.addClass('loading')
      supro.openModal($modal)

      $.get(
        url,
        function (response) {
          var $html = $(response),
            $response_summary = $html.find('#content').find('.entry-summary'),
            $response_images = $html
              .find('#content')
              .find('.product-images-wrapper'),
            $product_thumbnails = $response_images.find('#product-thumbnails'),
            $variations = $response_summary.find('.variations_form'),
            productClasses = $html.find('.product').attr('class')

          // Remove unused elements
          $product_thumbnails.remove()
          $product.addClass(productClasses)
          $product_sumary.html($response_summary)
          $response_images
            .find('.woocommerce-product-gallery')
            .removeAttr('style')
          $product_images.html($response_images)
          $product_images.append(
            '<div class="quicknavcontainer"><div class="newdotleft icon-chevron-left slick-prev-arrow slick-arrow" style=""></div><div class="newdots"></div><div class="newdotright icon-chevron-right slick-next-arrow slick-arrow" style=""></div></div>'
          )

          if ($product.find('.close-modal').length < 1) {
            $product.show().prepend($button)
          }

          var $carousel = $product_images.find(
            '.woocommerce-product-gallery__wrapper'
          )

          // Force height for images
          $carousel.find('img').css('height', $product.outerHeight())

          $modal.removeClass('loading')
          $product.removeClass('invisible')

          $carousel.not('.slick-initialized').slick({
            rtl: suproData.isRTL === '1',
            slidesToShow: 1,
            slidesToScroll: 1,
            infinite: true,
            dots: true,
            arrows: true,
            appendDots: '.newdots',
            prevArrow: '.newdotleft',
            nextArrow: '.newdotright',
          })

          $carousel.imagesLoaded(function () {
            //Force height for images
            $carousel.addClass('loaded')
          })

          $carousel
            .find('.woocommerce-product-gallery__image')
            .on('click', 'a', function (e) {
              e.preventDefault()
            })

          if (typeof wc_add_to_cart_variation_params !== 'undefined') {
            $variations.wc_variation_form()
            $variations.find('.variations select').change()
          }

          if (typeof $.fn.tawcvs_variation_swatches_form !== 'undefined') {
            $variations.tawcvs_variation_swatches_form()
          }

          supro.$body.on('tawcvs_initialized', function () {
            $('.variations_form').unbind('tawcvs_no_matching_variations')
            $('.variations_form').on(
              'tawcvs_no_matching_variations',
              function (event, $el) {
                event.preventDefault()
                $el.addClass('selected')

                $('.variations_form')
                  .find('.woocommerce-variation.single_variation')
                  .show()
                if (typeof wc_add_to_cart_variation_params !== 'undefined') {
                  $('.variations_form')
                    .find('.single_variation')
                    .slideDown(200)
                    .html(
                      '<p>' +
                        wc_add_to_cart_variation_params.i18n_no_matching_variations_text +
                        '</p>'
                    )
                }
              }
            )
          })

          $product.find('[data-rel=tooltip]').tooltip({
            classes: { 'ui-tooltip': 'supro-tooltip' },
            tooltipClass: 'supro-tooltip qv-tooltip',
            position: { my: 'center bottom', at: 'center top-13' },
            create: function () {
              $('.ui-helper-hidden-accessible').remove()
            },
          })

          supro.productvariation()
          supro.$body.trigger('yith_wcwl_init')
        },
        'html'
      )
    })

    $('#quick-view-modal').on('click', function (e) {
      var target = e.target
      if ($(target).closest('div.product').length <= 0) {
        supro.closeModal()
      }
    })
  }

  // add wishlist
  supro.addWishlist = function () {
    //$(document.body).find('a.add_to_wishlist').on('click', function () {
    //    $(this).addClass('loading');
    //});

    supro.$body.on('adding_to_wishlist', function () {
      $('.yith-wcwl-add-to-wishlist .yith-wcwl-add-button a').addClass(
        'loading'
      )
    })

    var $current_proid = 0

    $(document.body).on('added_to_wishlist', function (e, $el_wrap) {
      e.preventDefault()
      //$(document.body).find('a.add_to_wishlist').removeClass('loading');
      $('.yith-wcwl-add-to-wishlist .yith-wcwl-add-button a').removeClass(
        'loading'
      )

      var $new_proid = parseInt($el_wrap.data('product-id'))

      if ($new_proid == $current_proid) {
        return
      }

      $current_proid = $new_proid

      var content = $el_wrap.data('product-title')
      $el_wrap.removeClass('loading')
      supro.addedToWishlistNotice('', content, false, 'success')
    })
  }

  supro.showAddedToCartNotice = function () {
    $(document.body).on(
      'added_to_cart',
      function (event, fragments, cart_hash, $thisbutton) {
        var product_title =
            $thisbutton.attr('data-title') + ' ' + suproData.l10n.notice_text,
          $message = ''

        if (suproData.add_to_cart_action === 'notice') {
          supro.addedToCartNotice($message, product_title, false, 'success')
        } else {
          $('#hiddencartopen').trigger('click')
          supro.addedToCartNotice($message, product_title, false, 'success')
        }
      }
    )
  }

  supro.addedToCartNotice = function ($message, $content, single, className) {
    /*if (suproData.l10n.added_to_cart_notice != '1' || !$.fn.notify) {
            return;
        }*/

    //supro.addedToCartNotice('AAA', 'CHECK', true, className);

    if (getWindowWidth() < 1199) {
      if (single) {
        $message = '<div class="message-box">' + $message + '</div>'
      } else {
        $message +=
          '<a href="' +
          suproData.l10n.cart_link +
          '" class="btn-button">' +
          suproData.l10n.cart_text +
          '</a>'
      }

      if (className == 'success') {
        var icon =
          '<span class="icon-Success"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span><span class="path5"></span><span class="path6"></span></span><div class="mobpopmess">' +
          suproData.addedtosample +
          '</div>'
      } else {
        if ($('mini-cart-counter').text() == 3) {
          var icon =
            '<span class="icon-Failed"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span><span class="path5"></span><span class="path6"></span><span class="path7"></span></span><div class="mobpopmess">' +
            suproData.alreadyinsample +
            '</div>'
        } else {
          var icon =
            '<span class="icon-Failed"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span><span class="path5"></span><span class="path6"></span><span class="path7"></span></span><div class="mobpopmess">' +
            suproData.maxsample +
            '</div>'
        }
      }

      $.notify.addStyle('supro', {
        //html: '<div><i class="icon icon-checkcircle"></i>' + $message + '<span class="close icon icon-cross"></span> </div>',
        html: '<div>' + icon + '</div>',
      })
      $.notify($content, {
        autoHideDelay: suproData.l10n.cart_notice_auto_hide,
        className: className,
        style: 'supro',
        showAnimation: 'fadeIn',
        hideAnimation: 'fadeOut',
      })
    }
  }

  supro.addedToWishlistNotice = function (
    $message,
    $content,
    single,
    className,
    multiple
  ) {
    if (
      typeof suproData.added_to_wishlist_notice === 'undefined' ||
      !$.fn.notify
    ) {
      return
    }

    if (multiple) {
      $content +=
        ' ' + suproData.added_to_wishlist_notice.added_to_wishlist_texts
    } else {
      $content +=
        ' ' + suproData.added_to_wishlist_notice.added_to_wishlist_text
    }

    $message +=
      '<a href="' +
      suproData.added_to_wishlist_notice.wishlist_view_link +
      '" class="btn-button">' +
      suproData.added_to_wishlist_notice.wishlist_view_text +
      '</a>'

    if (single) {
      $message = '<div class="message-box">' + $message + '</div>'
    }

    $.notify.addStyle('supro', {
      html:
        '<div><i class="icon-checkmark-circle message-icon"></i><span data-notify-text/>' +
        $message +
        '<span class="close icon icon-cross"></span> </div>',
    })
    $.notify($content, {
      autoHideDelay:
        suproData.added_to_wishlist_notice.wishlist_notice_auto_hide,
      className: className,
      style: 'supro',
      showAnimation: 'fadeIn',
      hideAnimation: 'fadeOut',
    })
  }

  // Add to cart ajax
  supro.addToCartAjax = function () {
    if (suproData.add_to_cart_ajax == '0') {
      return
    }

    var found = false
    supro.$body.on('click', '.single_add_to_cart_button', function (e) {
      $('#cart-panel').addClass('openviacartbut')

      var $el = $(this),
        $cartForm = $el.closest('form.cart'),
        $productWrapper = $el.closest('div.product')

      if ($productWrapper.hasClass('product-type-external')) {
        return
      }

      if ($el.hasClass('has-buy-now')) {
        return
      }

      if ($cartForm.length > 0) {
        e.preventDefault()
      } else {
        return
      }

      if ($el.hasClass('disabled')) {
        return
      }

      $el.addClass('loading')
      if (found) {
        return
      }
      found = true

      var formdata = $cartForm.serializeArray(),
        currentURL = window.location.href

      if ($el.val() != '') {
        formdata.push({ name: $el.attr('name'), value: $el.val() })
      }
      $.ajax({
        url: window.location.href,
        method: 'post',
        data: formdata,
        error: function () {
          window.location = currentURL
        },
        success: function (response) {
          if (!response) {
            window.location = currentURL
          }

          var url = woocommerce_params.wc_ajax_url
          url = url.replace('%%endpoint%%', 'get_refreshed_fragments')

          $.post(url, function (data, status) {
            if (data.fragments) {
              jQuery.each(data.fragments, function (key, value) {
                jQuery(key).replaceWith(value)
              })
            }
            jQuery('body').trigger('wc_fragments_refreshed')
          })

          if (typeof wc_add_to_cart_params !== 'undefined') {
            if (wc_add_to_cart_params.cart_redirect_after_add === 'yes') {
              window.location = wc_add_to_cart_params.cart_url
              return
            }
          }

          $(document.body).trigger('updated_wc_div')

          var $message = '',
            className = 'success'
          if ($(response).find('.woocommerce-message').length > 0) {
            $message = $(response).find('.woocommerce-message').html()
          }

          if ($(response).find('.woocommerce-error').length > 0) {
            $message = $(response).find('.woocommerce-error').html()
            className = 'error'

            if ($('body').find('.woocommerce-error').length > 0) {
              $('.woocommerce-error').empty()
              $('.woocommerce-error').append($message)
            } else {
              $('#primary').prepend(
                '<div class="woocommerce-notices-wrapper"><ul class="woocommerce-error" role="alert">' +
                  $message +
                  '</ul></div>'
              )
            }
          }

          if ($(response).find('.woocommerce-info').length > 0) {
            $message = $(response).find('.woocommerce-info').html()
          }

          $el.removeClass('loading')

          if (suproData.add_to_cart_action === 'notice') {
            if ($message) {
              supro.addedToCartNotice($message, ' ', true, className)
            }
          } else {
            if (!$(response).find('.woocommerce-error').length > 0) {
              $(document.body).on('wc_fragments_refreshed', function () {
                $('#hiddencartopen').trigger('click')
              })

              //ALERT ADDED
              if ($message) {
                supro.addedToCartNotice('AAA', 'CHECK', true, className)
              }
            } else {
              //ERROR
              supro.addedToCartNotice('BBB', 'X', true, className)
            }
          }

          console.log('One more update 1234567')
          if (!$('.woocommerce-error').length) {
            $('#icon-cart-contents').trigger('click')
          } else {
            $([document.documentElement, document.body]).animate(
              {
                scrollTop: 0,
              },
              300
            )
          }

          found = false
        },
      })
    })
  }

  supro.buyNow = function () {
    supro.$body.find('form.cart').on('click', '.buy_now_button', function (e) {
      e.preventDefault()
      var $form = $(this).closest('form.cart'),
        is_disabled = $(this).is(':disabled')

      if (is_disabled) {
        jQuery('html, body').animate(
          {
            scrollTop: $(this).offset().top - 200,
          },
          900
        )
      } else {
        $form.append('<input type="hidden" value="true" name="buy_now" />')
        $form.find('.single_add_to_cart_button').addClass('has-buy-now')
        $form.find('.single_add_to_cart_button').trigger('click')
      }
    })

    var $variations_form = $('.variations_form')
    $variations_form.on('hide_variation', function (event) {
      event.preventDefault()
      $variations_form
        .find('.buy_now_button')
        .addClass('disabled wc-variation-selection-needed')
    })

    $variations_form.on(
      'show_variation',
      function (event, variation, purchasable) {
        event.preventDefault()
        if (purchasable) {
          $variations_form
            .find('.buy_now_button')
            .removeClass('disabled wc-variation-selection-needed')
        } else {
          $variations_form
            .find('.buy_now_button')
            .addClass('disabled wc-variation-selection-needed')
        }
      }
    )
  }

  // Product Attribute
  supro.productAttribute = function () {
    supro.$body.on('click', '.supro-swatch-item', function (e) {
      e.preventDefault()
      $(this).siblings('.supro-swatch-item').removeClass('selected')
      $(this).addClass('selected')
      var imgSrc = $(this).data('src'),
        imgSrcSet = $(this).data('src-set'),
        $mainImages = $(this)
          .parents('li.product')
          .find('.un-product-thumbnail > a'),
        $image = $mainImages.find('img').first(),
        imgWidth = $image.first().width(),
        imgHeight = $image.first().height()

      $mainImages.addClass('image-loading')
      $mainImages.css({
        width: imgWidth,
        height: imgHeight,
        display: 'block',
      })

      $image.attr('src', imgSrc)

      if (imgSrcSet) {
        $image.attr('srcset', imgSrcSet)
      }

      $image.load(function () {
        $mainImages.removeClass('image-loading')
        $mainImages.removeAttr('style')
      })
    })
  }

  supro.filterScroll = function () {
    var $sidebar = $('.catalog-sidebar'),
      $categories = $('.supro_widget_product_categories > ul', $sidebar),
      $filter = $('.supro_attributes_filter > ul', $sidebar)

    supro.filterElement($categories)
    supro.filterElement($filter)
  }

  supro.filterElement = function ($element) {
    var h = $element.outerHeight(true),
      dataHeight = $element.data('height')

    if (h > dataHeight) {
      $element.addClass('scroll-enable')
      $element.css('height', dataHeight)
    }
  }

  /**
   * Init tooltip
   */
  // tooltip icon
  supro.toolTipIcon = function () {
    showToolTip()

    $(document).on('yith_wcwl_fragments_loaded', function () {
      showToolTip()
    })

    supro.$body.on('removed_from_wishlist', function () {
      showToolTip()
    })

    supro.$body.on('added_to_wishlist', function () {
      showToolTip()
    })

    function showToolTip() {
      $('.un-product-thumbnail, .product-summary')
        .find('[data-rel=tooltip]')
        .tooltip({
          classes: { 'ui-tooltip': 'supro-tooltip' },
          tooltipClass: 'supro-tooltip',
          position: { my: 'center bottom', at: 'center top-13' },
          create: function () {
            $('.ui-helper-hidden-accessible').remove()
          },
        })
    }

    $(document.body).on('added_to_cart', function () {
      $('.un-product-thumbnail')
        .find('.added_to_cart')
        .tooltip({
          offsetTop: -15,
          content: function () {
            return $(this).html()
          },
          classes: { 'ui-tooltip': 'supro-tooltip' },
          tooltipClass: 'supro-tooltip',
          position: { my: 'center bottom', at: 'center top-13' },
          create: function () {
            $('.ui-helper-hidden-accessible').remove()
          },
        })

      $('#icon-cart-contents').trigger('click')
    })
  }

  /**
   * Ajax login before refresh page
   */
  supro.loginModalAuthenticate = function () {
    $('#login-modal').on('submit', '.woocommerce-form-login', function (e) {
      var username = $('input[name=username]', this).val(),
        password = $('input[name=password]', this).val(),
        remember = $('input[name=rememberme]', this).is(':checked'),
        $button = $('[type=submit]', this),
        $form = $(this),
        $box = $form.next('.woocommerce-error')

      if (!username || !password) {
        $('input[name=username]', this).focus()

        return false
      }

      e.preventDefault()
      $button.addClass('loading')

      if ($box.length) {
        $box.fadeOut()
      }

      $.post(
        suproData.ajax_url,
        {
          action: 'supro_login_authenticate',
          creds: {
            user_login: username,
            user_password: password,
            remember: remember,
          },
        },
        function (response) {
          if (!response.success) {
            if (!$box.length) {
              $box = $(
                '<div class="woocommerce-error supro-message-box danger"/>'
              )

              $box
                .append('<div class="box-content"></div>')
                .append(
                  '<a class="close" href="#"><span aria-hidden="true" class="icon-cross2"></span></a>'
                )

              $box.hide().insertAfter($form)
            }

            $box.find('.box-content').html(response.data)
            $box.fadeIn()
            $button.removeClass('loading')
          } else {
            window.location.reload()
          }
        }
      )
    })
  }

  /**
   * Close message box
   */
  $(document.body).on('click', '.supro-message-box .close', function (e) {
    e.preventDefault()

    $(this).closest('.supro-message-box').fadeOut('slow')
  })

  /**
   * Document ready
   */
  $(function () {
    supro.init()
  })
})(jQuery)

// Check if element(s) exist
jQuery.fn.boc_doesExist = function () {
  return jQuery(this).length > 0
}
// Custom WindowWidth method, will use instead of $(window).width() cuz scroll messes it up
function getWindowWidth() {
  return (
    window.innerWidth ||
    document.documentElement.clientWidth ||
    document.body.clientWidth
  )
}

function init_ultimate_spacer() {
  var css = ''
  jQuery('.mobile-spacer').each(function (i, spacer) {
    var uid = jQuery(spacer).data('id')
    var body_width = jQuery('body').width()
    var height_on_mob = jQuery(spacer).data('height-mobile')
    var height_on_mob_landscape = jQuery(spacer).data('height-mobile-landscape')
    var height_on_tabs = jQuery(spacer).data('height-tab')
    var height_on_tabs_portrait = jQuery(spacer).data('height-tab-portrait')
    var height = jQuery(spacer).data('height')
    if (height != '') {
      css += ' .spacer-' + uid + ' { height:' + height + 'px } '
    }
    if (height_on_tabs != '' || height_on_tabs == '0' || height_on_tabs == 0) {
      css +=
        ' @media (max-width: 1199px) { .spacer-' +
        uid +
        ' { height:' +
        height_on_tabs +
        'px } } '
    }
    if (
      typeof height_on_tabs_portrait != 'undefined' &&
      (height_on_tabs_portrait != '' ||
        height_on_tabs_portrait == '0' ||
        height_on_tabs_portrait == 0)
    ) {
      css +=
        ' @media (max-width: 991px) { .spacer-' +
        uid +
        ' { height:' +
        height_on_tabs_portrait +
        'px } } '
    }
    if (
      typeof height_on_mob_landscape != 'undefined' &&
      (height_on_mob_landscape != '' ||
        height_on_mob_landscape == '0' ||
        height_on_mob_landscape == 0)
    ) {
      css +=
        ' @media (max-width: 767px) { .spacer-' +
        uid +
        ' { height:' +
        height_on_mob_landscape +
        'px } } '
    }
    if (height_on_mob != '' || height_on_mob == '0' || height_on_mob == 0) {
      css +=
        ' @media (max-width: 479px) { .spacer-' +
        uid +
        ' { height:' +
        height_on_mob +
        'px } } '
    }
  })
  if (css != '') {
    css = '<style>' + css + '</style>'
    jQuery('head').append(css)
  }
}

function validateEmail(email) {
  var ex =
    /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i
  return ex.test(email)
}

jQuery(window).load(function (e) {
  jQuery('.fieldx .input-text').each(function () {
    var $field = jQuery(this).closest('.fieldx')
    if (this.value) {
      $field.addClass('field--not-empty')
    } else {
      $field.removeClass('field--not-empty')
    }
  })

  jQuery('.fieldx .input-text').on('input change paste', function () {
    var $field = jQuery(this).closest('.fieldx')
    if (this.value) {
      $field.addClass('field--not-empty')
    } else {
      $field.removeClass('field--not-empty')
    }
  })
})

function accordionfilter() {
  jQuery('.prdctfltr_regular_title, .prdctfltr_widget_title').click(function (
    j
  ) {
    var dropDown = jQuery(this)
      .closest('.prdctfltr_filter.prdctfltr_attributes')
      .find('.prdctfltr_add_scroll')
    jQuery(this)
      .closest('.prdctfltr_filter.prdctfltr_attributes')
      .find('.prdctfltr_add_scroll')
      .not(dropDown)
      .slideUp()
    if (jQuery(this).hasClass('active')) {
      jQuery(this).removeClass('active')
    } else {
      jQuery(this)
        .closest('.prdctfltr_filter.prdctfltr_attributes')
        .find('.prdctfltr_regular_title.active, .prdctfltr_widget_title.active')
        .removeClass('active')
      jQuery(this).addClass('active')
    }
    dropDown.stop(false, true).slideToggle()
    j.preventDefault()
  })

  //$('.accordion > li:eq(0) a').addClass('active').next().slideDown();
  //ALSO ADD THIS to FILTER JS  SETTINGS - MUST ADD IT THERE TOO!!!
  jQuery('.prdctfltr_filter.prdctfltr_attributes').each(function (index) {
    if (jQuery(this).find('label').hasClass('prdctfltr_active')) {
      jQuery(this)
        .find('.prdctfltr_regular_title, .prdctfltr_widget_title ')
        .trigger('click')
    }
  })
}

function accordionfilterSidebar() {
  jQuery('span.prdctfltr_widget_title').click(function (j) {
    j.preventDefault()
    j.stopPropagation()
    var dropDown = jQuery(this)
      .closest('.prdctfltr_filter.prdctfltr_attributes')
      .find('.prdctfltr_add_scroll')
    jQuery(this)
      .closest('.prdctfltr_filter.prdctfltr_attributes')
      .find('.prdctfltr_add_scroll')
      .not(dropDown)
      .slideUp()
    if (jQuery(this).hasClass('active')) {
      jQuery(this).removeClass('active')
    } else {
      jQuery(this)
        .closest('.prdctfltr_filter.prdctfltr_attributes')
        .find('span.prdctfltr_widget_title.active')
        .removeClass('active')
      jQuery(this).addClass('active')
    }
    dropDown.stop(false, true).slideToggle()
  })

  //$('.accordion > li:eq(0) a').addClass('active').next().slideDown();
  //ALSO ADD THIS to FILTER JS  SETTINGS - MUST ADD IT THERE TOO!!!
  jQuery('.prdctfltr_filter.prdctfltr_attributes').each(function (index) {
    if (jQuery(this).find('label').hasClass('prdctfltr_active')) {
      jQuery(this).find('span.prdctfltr_widget_title').trigger('click')
    }
  })
}

jQuery(document).ready(function ($) {
  $(function () {
    $('.timeline-nav').slick({
      slidesToShow: 12,
      slidesToScroll: 1,
      asNavFor: '.timeline-slider',
      centerMode: false,
      focusOnSelect: true,
      mobileFirst: true,
      arrows: false,
      infinite: false,
      responsive: [
        {
          breakpoint: 768,
          settings: {
            slidesToShow: 8,
          },
        },
        {
          breakpoint: 0,
          settings: {
            slidesToShow: 4,
            slidesToScroll: 2,
          },
        },
      ],
    })

    $('.timeline-slider').slick({
      slidesToShow: 1,
      slidesToScroll: 1,
      arrows: true,
      prevArrow: '<span class="icon-chevron-left slick-prev-arrow"></span>',
      nextArrow: '<span class="icon-chevron-right slick-next-arrow"></span>',
      asNavFor: '.timeline-nav',
      centerMode: false,
      cssEase: 'ease',
      edgeFriction: 0.5,
      mobileFirst: true,
      speed: 500,
      responsive: [
        {
          breakpoint: 0,
          settings: {
            centerMode: false,
          },
        },
        {
          breakpoint: 768,
          settings: {
            centerMode: false,
          },
        },
      ],
    })
  })

  $('.wpcf7-select')
    .closest('.wpcf7-form-control-wrap')
    .addClass('selectparent')
    .append(
      '<svg><use xlink:href="#select-arrow-down"></use></svg><svg class="sprites"><symbol id="select-arrow-down" viewbox="0 0 10 6"><polyline points="1 1 5 5 9 1"></polyline></symbol></svg>'
    )

  $('.variations select')
    .closest('td.value')
    .addClass('selectparent')
    .append(
      '<svg><use xlink:href="#select-arrow-down"></use></svg><svg class="sprites"><symbol id="select-arrow-down" viewbox="0 0 10 6"><polyline points="1 1 5 5 9 1"></polyline></symbol></svg>'
    )

  $('.prdctfltr_text div.prdctfltr_add_scroll').css('display', 'none')

  accordionfilter()
  //accordionfilterSidebar();

  /* Function to animate height: auto */
  function autoHeightAnimate(element, time) {
    var curHeight = element.height(), // Get Default Height
      autoHeight = element.css('height', 'auto').height() // Get Auto Height
    element.height(curHeight) // Reset to Default Height
    element.stop().animate({ height: autoHeight }, time) // Animate to Auto Height
  }

  $(function () {
    var nav = $('.special-text'),
      animateTime = 500,
      navLink = $('.expand-button')

    if ($(window).width() <= 767) {
      var heighthead = 500
    } else {
      var heighthead = 700
    }

    navLink.click(function () {
      $('.special-text').toggleClass('is-expanded')
      $('.expand-button').toggleClass('arrow-expanded')
      if (nav.height() === heighthead) {
        autoHeightAnimate(nav, animateTime)
      } else {
        nav.stop().animate({ height: heighthead }, animateTime)
      }
    })
  })

  // get cookie info
  var closedCookie = Cookies.get('closecheckoutmessage')
  console.log(closedCookie)
  if (closedCookie == 'closed') {
    $('.checkoutppemessage').remove()
  } else {
    $('.checkoutppemessage').fadeIn('slow')
  }

  $('.closebuta').on('click', function (e) {
    e.preventDefault()
    $(this).closest('.checkoutppemessage').slideUp('slow')
    Cookies.set('closecheckoutmessage', 'closed', { expires: 1 })
  })

  // TABS
  // First we build the tabs
  $('.resp-tabs-container .single_tab_div').each(function () {
    var title = $(this).attr('rel-title')
    // Replace spaces with dashes for ID
    var title_id = title.replace(/\s+/g, '-').toLowerCase()
    var icon = $(this).attr('rel-icon')
    var icon_html = icon !== '' ? "<span class='" + icon + "'></span> " : ''
    $(this)
      .parent('.resp-tabs-container')
      .prev('ul.resp-tabs-list')
      .append('<li id="' + title_id + '">' + icon_html + title + '</li>')
  })

  $('.newtabs').each(function () {
    var type = $(this).hasClass('vertical') ? 'vertical' : 'horizontal'
    $(this).easyResponsiveTabs({
      type: type,
      width: 'auto',
      fit: true,
      activate: function (e) {
        if ($(window).width() < 769) {
          setTimeout(function () {
            $('.resp-accordion.resp-tab-active')[0].scrollIntoView({
              behavior: 'smooth',
            })
          }, 500)
          setTimeout(function () {
            var element = $('.resp-accordion.resp-tab-active')[0]
            var headerOffset = $('header').height()
            var elementPosition = $('.resp-accordion.resp-tab-active').offset()
              .top
            var offsetPosition = elementPosition - headerOffset

            window.scrollTo({
              top: offsetPosition,
              behavior: 'smooth',
            })
          }, 500)
        }
      },
    })

    $(this).animate(
      {
        opacity: 1,
      },
      200
    )
    // Check for page's hashtag, if it matches - click the tab
    if (window.location.hash) {
      var hash = window.location.hash.substring(1) //Puts hash in variable, and removes the # character
      $(this)
        .find(':first-child')
        .children('.resp-tab-item')
        .each(function () {
          if ($(this).attr('id') == hash) {
            $(this).click()
          }
        })
    }
  })

  $('.accordion').click(function () {
    // Do we toggle siblings
    var no_sibling_toggle = $(this)
      .parent('.acc_item')
      .parent('.acc_holder')
      .hasClass('no_sibling_toggle')
    if (!no_sibling_toggle) {
      $('.acc_item')
        .siblings()
        .children('.accordion_content')
        .not($(this).siblings('.accordion_content'))
        .slideUp(400, 'easeOutQuint')
      $('.acc_item')
        .siblings()
        .children('.accordion')
        .not($(this))
        .removeClass('active_acc')
    }
    $(this).next('.accordion_content').slideToggle(200, 'easeInQuad')
    if ($(this).hasClass('active_acc')) {
      $(this).removeClass('active_acc')
    } else {
      $(this).addClass('active_acc')
    }
  })

  // Smoothscroll for Single Page
  smoothScroll.init({
    selector: '[rel="smooth_scroll"]',
    selectorHeader: '#header.sticky_header', // Selector for fixed headers
    speed: 500,
    easing: 'easeInOutQuart',
    updateURL: false,
    offset: 0,
  })
  // Crawl all smooth_scrolls and match with current page, remove if not linking to current page
  if ($('a[rel="smooth_scroll"]').boc_doesExist()) {
    var boc_loc = window.location.href.split('#')[0]
    $('a[rel="smooth_scroll"]').each(function () {
      if (boc_loc != $(this).attr('href').split('#')[0]) {
        $(this).removeAttr('rel')
      }
    })
  }
  // If a hash exists in URL, scroll to it
  if (window.location.hash) {
    var options = {
      speed: 800,
      easing: 'easeInOutQuart',
    }
    // Check if Element with this ID exists
    if ($(window.location.hash).boc_doesExist()) {
      smoothScroll.animateScroll(null, window.location.hash, options)
    }
  }

  // Open Active accordion item when scrolled to
  window.setTimeout(function () {
    $('.acc_is_open').waypoint(
      function () {
        if (!$(this).parent('.accordion').hasClass('active_acc')) {
          $(this).click()
        }
      },
      { offset: '85%', triggerOnce: true }
    )
  }, 800)
  /* Accordions::END */

  jQuery(window).load(function () {
    jQuery('.top_icon_box').matchHeight({ byRow: true })
    jQuery('.producont').matchHeight({ byRow: false })

    jQuery('.catalogbox .h5-look').matchHeight({ byRow: false })

    if (getWindowWidth() > 991) {
      jQuery('.prodetailsblock').matchHeight({ byRow: true })
    }
  })

  init_ultimate_spacer()

  //Filter Selection on attribute pages
  //Check path
  /*const path = window.location.pathname;*/

  //Check params
  /*const parseQueryString = function () {

    let str = window.location.search;
    let objURL = {};

    str.replace(
        new RegExp("([^?=&]+)(=([^&]*))?", "g"),
        function ($0, $1, $2, $3) {
          objURL[$1] = $3;
        }
    );
    return objURL;
  };
  const params = parseQueryString();

  const chemicalInput = $(".prdctfltr_ft_chemical");
  const chemicalInputRemove = $("[data-key='pa_chemical']");
  if (params.length) {
    if (path === '/products/' && params["pa_abrasion"].length) {
      chemicalInput.on('click', function (e) {
        e.preventDefault();
        let searchParams = window.location.search;
        let newSearchParams = searchParams + "&pa_chemical=chemical";
        window.location.href = newSearchParams;
      });
    }
  } else if(path === '/products/abrasion/') {
    if(!params["pa_chemical"]) {
      chemicalInput.on('click', function (e) {
        e.preventDefault();
        let locationHref = window.location.href;
        let newSearchParams = locationHref + "?pa_abrasion=ansi-level-2,ansi-level-3,ansi-level-4,ansi-level-5,ansi-level-6&pa_chemical=chemical";
        window.location.href = newSearchParams;
      });
    }else if(!params["pa_chemical"] && !params["pa_abrasion"]){
      chemicalInput.on('click', function (e) {
        e.preventDefault();
        let searchParams = window.location.search;
        let newSearchParams = searchParams + "&pa_chemical=chemical";
        window.location.href = newSearchParams;
      });
    } else {

    }
  } else {

  }*/
})
